<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OmniMind Voice Chat</title>
    <style>
        :root {
            --primary-color: #4a90e2;
            --secondary-color: #2c3e50;
            --success-color: #27ae60;
            --error-color: #e74c3c;
            --warning-color: #f39c12;
            --background-color: #f5f6fa;
            --border-color: #ddd;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: var(--background-color);
            color: var(--secondary-color);
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        h1, h2 {
            color: var(--primary-color);
            text-align: center;
            margin-bottom: 30px;
        }

        .main-content {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 20px;
        }

        .chat-section {
            grid-column: 1;
        }

        .history-section {
            grid-column: 2;
            border-left: 1px solid var(--border-color);
            padding-left: 20px;
        }

        .controls {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .control-group {
            flex: 1;
            min-width: 200px;
        }

        label {
            display: block;
            margin-bottom: 5px;
            color: var(--secondary-color);
        }

        select, button, input {
            width: 100%;
            padding: 10px;
            border: 1px solid var(--border-color);
            border-radius: 5px;
            font-size: 16px;
        }

        button {
            background-color: var(--primary-color);
            color: white;
            border: none;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        button:hover {
            background-color: #357abd;
        }

        button:disabled {
            background-color: #ccc;
            cursor: not-allowed;
        }

        #recordButton {
            background-color: var(--error-color);
        }

        #recordButton.recording {
            animation: pulse 1.5s infinite;
        }

        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
        }

        .response-container {
            margin-top: 30px;
            padding: 20px;
            border: 1px solid var(--border-color);
            border-radius: 5px;
            background-color: #f8f9fa;
        }

        .response-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .sentiment {
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 14px;
        }

        .sentiment.positive { background-color: #d4edda; color: #155724; }
        .sentiment.negative { background-color: #f8d7da; color: #721c24; }
        .sentiment.neutral { background-color: #e2e3e5; color: #383d41; }

        .loading {
            display: none;
            text-align: center;
            margin: 20px 0;
        }

        .loading.active {
            display: block;
        }

        .error {
            color: var(--error-color);
            text-align: center;
            margin: 10px 0;
            display: none;
            padding: 10px;
            border-radius: 5px;
            background-color: #f8d7da;
        }

        .error.active {
            display: block;
        }

        .warning {
            color: var(--warning-color);
            text-align: center;
            margin: 10px 0;
            display: none;
            padding: 10px;
            border-radius: 5px;
            background-color: #fff3cd;
        }

        .warning.active {
            display: block;
        }

        audio {
            width: 100%;
            margin-top: 10px;
        }

        .chat-history {
            max-height: 500px;
            overflow-y: auto;
            padding: 10px;
        }

        .history-item {
            padding: 10px;
            margin-bottom: 10px;
            border-radius: 5px;
            background-color: #f8f9fa;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .history-item:hover {
            background-color: #e9ecef;
        }

        .history-item .timestamp {
            font-size: 12px;
            color: #6c757d;
        }

        .settings-panel {
            margin-top: 20px;
            padding: 15px;
            border: 1px solid var(--border-color);
            border-radius: 5px;
            background-color: #f8f9fa;
        }

        .settings-panel h3 {
            margin-top: 0;
            color: var(--secondary-color);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .settings-group {
            margin-bottom: 15px;
            padding: 10px;
            border-radius: 5px;
            background-color: white;
        }

        .settings-group label {
            display: inline-block;
            margin-right: 10px;
        }

        .settings-group input[type="checkbox"] {
            width: auto;
        }

        .settings-group input[type="range"] {
            width: 100%;
            margin: 10px 0;
        }

        .settings-group select {
            margin-top: 5px;
        }

        .clear-history {
            background-color: var(--warning-color);
            margin-top: 10px;
        }

        .clear-history:hover {
            background-color: #e67e22;
        }

        /* Chat History Search */
        .history-search {
            margin-bottom: 15px;
        }

        .history-search input {
            width: 100%;
            padding: 8px;
            border: 1px solid var(--border-color);
            border-radius: 5px;
            margin-bottom: 10px;
        }

        .history-filters {
            display: flex;
            gap: 10px;
            margin-bottom: 10px;
        }

        .filter-chip {
            padding: 5px 10px;
            border-radius: 15px;
            background-color: #e9ecef;
            cursor: pointer;
            font-size: 12px;
            transition: background-color 0.3s;
        }

        .filter-chip.active {
            background-color: var(--primary-color);
            color: white;
        }

        /* Sentiment Visualization */
        .sentiment-analysis {
            margin-top: 15px;
            padding: 15px;
            background-color: white;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .sentiment-chart {
            height: 150px;
            position: relative;
            margin: 20px 0;
        }

        .sentiment-bar {
            height: 30px;
            background: linear-gradient(90deg, 
                var(--error-color) 0%, 
                var(--warning-color) 50%, 
                var(--success-color) 100%
            );
            border-radius: 15px;
            position: relative;
            overflow: hidden;
        }

        .sentiment-marker {
            position: absolute;
            top: -10px;
            width: 2px;
            height: 50px;
            background-color: var(--secondary-color);
            transform: translateX(-50%);
            transition: left 0.3s ease;
        }

        .sentiment-marker::after {
            content: attr(data-value);
            position: absolute;
            top: -20px;
            left: 50%;
            transform: translateX(-50%);
            background-color: var(--secondary-color);
            color: white;
            padding: 2px 6px;
            border-radius: 3px;
            font-size: 12px;
        }

        .sentiment-labels {
            display: flex;
            justify-content: space-between;
            margin-top: 10px;
            font-size: 12px;
            color: #6c757d;
        }

        .sentiment-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin-top: 15px;
        }

        .stat-card {
            background-color: #f8f9fa;
            padding: 10px;
            border-radius: 5px;
            text-align: center;
        }

        .stat-value {
            font-size: 24px;
            font-weight: bold;
            color: var(--primary-color);
        }

        .stat-label {
            font-size: 12px;
            color: #6c757d;
        }

        /* Conversation Tags */
        .conversation-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
            margin: 10px 0;
        }

        .tag {
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.3s;
            background-color: #e9ecef;
            color: var(--secondary-color);
        }

        .tag:hover {
            background-color: var(--primary-color);
            color: white;
        }

        .tag.active {
            background-color: var(--primary-color);
            color: white;
        }

        .tag-input {
            display: flex;
            gap: 5px;
            margin-top: 10px;
        }

        .tag-input input {
            flex: 1;
            padding: 5px;
            border: 1px solid var(--border-color);
            border-radius: 5px;
        }

        /* Voice Customization */
        .voice-customization {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-top: 15px;
        }

        .voice-preset {
            padding: 10px;
            border: 1px solid var(--border-color);
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .voice-preset:hover {
            background-color: #f8f9fa;
        }

        .voice-preset.active {
            border-color: var(--primary-color);
            background-color: #e3f2fd;
        }

        .voice-params {
            display: grid;
            gap: 10px;
        }

        .param-group {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .param-group label {
            min-width: 100px;
        }

        .param-group input[type="range"] {
            flex: 1;
        }

        .param-value {
            min-width: 40px;
            text-align: right;
        }

        /* Enhanced Keyboard Shortcuts */
        .shortcut-category {
            margin-bottom: 20px;
        }

        .shortcut-category h3 {
            color: var(--primary-color);
            margin-bottom: 10px;
        }

        .shortcut-group {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
        }

        .shortcut-key {
            display: inline-flex;
            align-items: center;
            gap: 5px;
        }

        .key {
            background-color: #f8f9fa;
            padding: 2px 8px;
            border-radius: 3px;
            font-family: monospace;
            border: 1px solid #dee2e6;
        }

        .key.combo {
            display: inline-flex;
            align-items: center;
            gap: 2px;
        }

        .key.combo::after {
            content: "+";
            margin: 0 2px;
        }

        .key.combo:last-child::after {
            content: none;
        }

        /* Keyboard Shortcuts Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            z-index: 1000;
        }

        .modal-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: white;
            padding: 20px;
            border-radius: 10px;
            max-width: 500px;
            width: 90%;
        }

        .shortcut-list {
            list-style: none;
            padding: 0;
        }

        .shortcut-item {
            display: flex;
            justify-content: space-between;
            padding: 10px;
            border-bottom: 1px solid var(--border-color);
        }

        .close-modal {
            position: absolute;
            top: 10px;
            right: 10px;
            cursor: pointer;
            font-size: 20px;
        }

        /* Theme Switcher */
        .theme-switcher {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }

        .theme-option {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            cursor: pointer;
            border: 2px solid transparent;
        }

        .theme-option.active {
            border-color: var(--primary-color);
        }

        /* Export/Import */
        .export-import {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }

        .export-import button {
            flex: 1;
        }

        /* Enhanced Voice Customization */
        .voice-presets {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 10px;
            margin-bottom: 20px;
        }

        .voice-preset {
            position: relative;
            padding: 15px;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            background-color: white;
        }

        .voice-preset:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        .voice-preset.active {
            border-color: var(--primary-color);
            background-color: #e3f2fd;
        }

        .preset-icon {
            font-size: 24px;
            margin-bottom: 8px;
        }

        .preset-name {
            font-weight: bold;
            margin-bottom: 5px;
        }

        .preset-description {
            font-size: 12px;
            color: #666;
        }

        /* Enhanced Sentiment Visualization */
        .sentiment-dashboard {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .sentiment-card {
            background: white;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .sentiment-trend {
            height: 60px;
            margin: 10px 0;
            position: relative;
        }

        .trend-line {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 2px;
            background: var(--border-color);
        }

        .trend-point {
            position: absolute;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            transform: translate(-50%, -50%);
            transition: all 0.3s;
        }

        .trend-point:hover {
            transform: translate(-50%, -50%) scale(1.5);
        }

        .sentiment-metrics {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin-top: 15px;
        }

        .metric {
            text-align: center;
            padding: 10px;
            background: #f8f9fa;
            border-radius: 5px;
        }

        .metric-value {
            font-size: 20px;
            font-weight: bold;
            color: var(--primary-color);
        }

        .metric-label {
            font-size: 12px;
            color: #666;
        }

        /* Enhanced Tag System */
        .tag-categories {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }

        .tag-category {
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.3s;
            background-color: #f8f9fa;
            border: 1px solid var(--border-color);
        }

        .tag-category.active {
            background-color: var(--primary-color);
            color: white;
        }

        .tag {
            display: inline-flex;
            align-items: center;
            gap: 5px;
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .tag-color {
            width: 12px;
            height: 12px;
            border-radius: 50%;
        }

        .tag-actions {
            display: none;
            gap: 5px;
        }

        .tag:hover .tag-actions {
            display: inline-flex;
        }

        .tag-action {
            width: 16px;
            height: 16px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 10px;
            background: rgba(255,255,255,0.2);
            cursor: pointer;
        }

        .tag-action:hover {
            background: rgba(255,255,255,0.4);
        }

        /* Enhanced UI Elements */
        .tooltip {
            position: relative;
            display: inline-block;
        }

        .tooltip:hover::after {
            content: attr(data-tooltip);
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
            padding: 5px 10px;
            background: rgba(0,0,0,0.8);
            color: white;
            border-radius: 4px;
            font-size: 12px;
            white-space: nowrap;
            z-index: 1000;
        }

        .floating-action-button {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: var(--primary-color);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
            transition: all 0.3s;
        }

        .floating-action-button:hover {
            transform: scale(1.1);
        }

        .quick-actions {
            position: absolute;
            bottom: 70px;
            right: 20px;
            display: none;
            flex-direction: column;
            gap: 10px;
        }

        .quick-action {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: white;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            transition: all 0.3s;
        }

        .quick-action:hover {
            transform: scale(1.1);
        }

        .floating-action-button.active .quick-actions {
            display: flex;
        }

        /* Additional Voice Presets */
        .voice-preset-group {
            background: white;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            margin-bottom: 15px;
        }

        .voice-preset-group h3 {
            margin-top: 0;
            color: var(--primary-color);
            font-size: 16px;
            margin-bottom: 10px;
        }

        /* Enhanced Emotion Analysis */
        .emotion-wheel {
            width: 200px;
            height: 200px;
            position: relative;
            margin: 20px auto;
        }

        .emotion-segment {
            position: absolute;
            width: 100%;
            height: 100%;
            clip-path: polygon(50% 50%, 50% 0%, 100% 0%, 100% 100%, 50% 100%);
            transform-origin: 50% 50%;
            transition: all 0.3s;
        }

        .emotion-segment:hover {
            filter: brightness(1.2);
        }

        .emotion-label {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            font-size: 12px;
            text-shadow: 0 1px 2px rgba(0,0,0,0.5);
        }

        /* Enhanced Tag System */
        .tag-manager {
            background: white;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            margin-top: 20px;
        }

        .tag-category-group {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 15px;
        }

        .tag-category {
            position: relative;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .tag-category-count {
            background: rgba(255,255,255,0.2);
            padding: 2px 6px;
            border-radius: 10px;
            font-size: 10px;
        }

        .tag-search {
            position: relative;
            margin-bottom: 15px;
        }

        .tag-search input {
            width: 100%;
            padding: 8px 35px 8px 15px;
            border: 1px solid var(--border-color);
            border-radius: 20px;
            font-size: 14px;
        }

        .tag-search-icon {
            position: absolute;
            right: 10px;
            top: 50%;
            transform: translateY(-50%);
            color: #666;
        }

        /* Enhanced Quick Actions */
        .quick-actions-panel {
            position: fixed;
            right: 20px;
            bottom: 80px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            padding: 10px;
            display: none;
            z-index: 1000;
        }

        .quick-actions-panel.active {
            display: block;
        }

        .quick-action-group {
            margin-bottom: 10px;
            padding-bottom: 10px;
            border-bottom: 1px solid var(--border-color);
        }

        .quick-action-group:last-child {
            margin-bottom: 0;
            padding-bottom: 0;
            border-bottom: none;
        }

        .quick-action-group h4 {
            margin: 0 0 10px 0;
            color: var(--primary-color);
            font-size: 14px;
        }

        .quick-action-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 5px;
        }

        /* Enhanced UI Elements */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 10px 20px;
            border-radius: 5px;
            background: white;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            display: none;
            z-index: 1000;
            animation: slideIn 0.3s ease-out;
        }

        @keyframes slideIn {
            from { transform: translateX(100%); }
            to { transform: translateX(0); }
        }

        .notification.active {
            display: block;
        }

        .notification.success { background: #d4edda; color: #155724; }
        .notification.error { background: #f8d7da; color: #721c24; }
        .notification.warning { background: #fff3cd; color: #856404; }

        /* Admin Panel Styles */
        .admin-panel {
            position: fixed;
            top: 0;
            right: -400px;
            width: 400px;
            height: 100vh;
            background: white;
            box-shadow: -2px 0 10px rgba(0,0,0,0.1);
            transition: right 0.3s ease;
            z-index: 1000;
            overflow-y: auto;
        }

        .admin-panel.active {
            right: 0;
        }

        .admin-header {
            padding: 20px;
            background: var(--primary-color);
            color: white;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .admin-section {
            padding: 20px;
            border-bottom: 1px solid var(--border-color);
        }

        .admin-section h3 {
            margin: 0 0 15px 0;
            color: var(--primary-color);
        }

        .feature-list {
            list-style: none;
            padding: 0;
        }

        .feature-item {
            padding: 10px;
            border: 1px solid var(--border-color);
            margin-bottom: 10px;
            border-radius: 5px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .feature-status {
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 12px;
        }

        .status-active { background: #d4edda; color: #155724; }
        .status-inactive { background: #f8d7da; color: #721c24; }
        .status-beta { background: #fff3cd; color: #856404; }

        .llm-config {
            margin-top: 15px;
        }

        .llm-provider {
            margin-bottom: 15px;
            padding: 15px;
            border: 1px solid var(--border-color);
            border-radius: 5px;
        }

        .llm-provider h4 {
            margin: 0 0 10px 0;
            color: var(--primary-color);
        }

        .api-key-input {
            width: 100%;
            padding: 8px;
            margin-bottom: 10px;
            border: 1px solid var(--border-color);
            border-radius: 4px;
        }

        .model-select {
            width: 100%;
            padding: 8px;
            margin-bottom: 10px;
            border: 1px solid var(--border-color);
            border-radius: 4px;
        }

        .admin-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            width: 40px;
            height: 40px;
            background: var(--primary-color);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 1001;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }

        .admin-toggle:hover {
            transform: scale(1.1);
        }

        .feature-stats {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin-top: 10px;
        }

        .stat-item {
            background: #f8f9fa;
            padding: 10px;
            border-radius: 5px;
            text-align: center;
        }

        .stat-value {
            font-size: 20px;
            font-weight: bold;
            color: var(--primary-color);
        }

        .stat-label {
            font-size: 12px;
            color: #666;
        }

        .integration-status {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: 10px;
        }

        .status-indicator {
            width: 10px;
            height: 10px;
            border-radius: 50%;
        }

        .status-connected { background: #28a745; }
        .status-disconnected { background: #dc3545; }
        .status-connecting { background: #ffc107; }

        .admin-actions {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }

        .admin-button {
            padding: 8px 15px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s;
        }

        .admin-button.primary {
            background: var(--primary-color);
            color: white;
        }

        .admin-button.secondary {
            background: #6c757d;
            color: white;
        }

        .admin-button.danger {
            background: #dc3545;
            color: white;
        }

        .admin-button:hover {
            opacity: 0.9;
            transform: translateY(-1px);
        }

        /* New Styles for Enhanced Admin Panel */
        .security-config, .analytics-dashboard, .feature-config-grid {
            display: grid;
            gap: 20px;
            margin-top: 15px;
        }

        .security-item, .analytics-card, .config-group {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            border: 1px solid var(--border-color);
        }

        .security-options, .config-options {
            display: grid;
            gap: 10px;
            margin-top: 10px;
        }

        .analytics-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin: 15px 0;
        }

        .analytics-chart {
            height: 200px;
            background: white;
            border-radius: 5px;
            border: 1px solid var(--border-color);
        }

        .analytics-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .analytics-actions {
            display: flex;
            gap: 10px;
            justify-content: flex-end;
        }

        .feature-config-grid {
            grid-template-columns: repeat(3, 1fr);
        }

        @media (max-width: 768px) {
            .analytics-grid, .feature-config-grid {
                grid-template-columns: 1fr;
            }
        }

        /* Enhanced Chart Styles */
        .chart-legend {
            display: flex;
            gap: 10px;
            margin-top: 10px;
            flex-wrap: wrap;
        }

        .legend-item {
            display: flex;
            align-items: center;
            font-size: 12px;
            color: #666;
        }

        .legend-item::before {
            content: '';
            width: 10px;
            height: 10px;
            margin-right: 5px;
            border-radius: 2px;
        }

        .legend-item:nth-child(1)::before { background: var(--primary-color); }
        .legend-item:nth-child(2)::before { background: var(--success-color); }
        .legend-item:nth-child(3)::before { background: var(--warning-color); }

        .analytics-chart {
            position: relative;
            height: 250px;
            background: white;
            border-radius: 8px;
            padding: 15px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .chart-tooltip {
            position: absolute;
            background: rgba(0,0,0,0.8);
            color: white;
            padding: 5px 10px;
            border-radius: 4px;
            font-size: 12px;
            pointer-events: none;
            z-index: 1000;
        }

        /* Llama & Ollama Configuration Styles */
        .llama-config {
            display: grid;
            gap: 20px;
        }

        .server-settings, .model-settings, .customization-settings {
            display: grid;
            gap: 15px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
        }

        .setting-item {
            display: grid;
            gap: 5px;
        }

        .setting-item label {
            font-weight: 500;
            color: var(--secondary-color);
        }

        .setting-value {
            font-size: 14px;
            color: #666;
            text-align: right;
        }

        .prompt-input {
            width: 100%;
            padding: 10px;
            border: 1px solid var(--border-color);
            border-radius: 5px;
            font-family: monospace;
            resize: vertical;
        }

        .model-list {
            display: grid;
            gap: 10px;
            margin-bottom: 15px;
        }

        .model-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px;
            background: white;
            border: 1px solid var(--border-color);
            border-radius: 5px;
        }

        .model-info {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        .model-name {
            font-weight: 500;
        }

        .model-size {
            font-size: 12px;
            color: #666;
        }

        .performance-metrics {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .metric-card {
            background: white;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .metric-card h5 {
            margin: 0 0 10px 0;
            color: var(--secondary-color);
        }

        .metric-value {
            font-size: 24px;
            font-weight: bold;
            color: var(--primary-color);
        }

        .performance-chart {
            height: 200px;
            background: white;
            border-radius: 8px;
            padding: 15px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        /* Enhanced Styles for New Features */
        .fine-tuning-settings, .model-comparison, .performance-monitoring, .visualization-settings {
            display: grid;
            gap: 15px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
        }

        .comparison-controls {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }

        .comparison-metrics {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }

        .comparison-chart {
            height: 150px;
            background: white;
            border-radius: 5px;
            padding: 10px;
        }

        .performance-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .performance-card {
            background: white;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .performance-metrics-table {
            overflow-x: auto;
        }

        .performance-metrics-table table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
        }

        .performance-metrics-table th,
        .performance-metrics-table td {
            padding: 10px;
            text-align: left;
            border-bottom: 1px solid var(--border-color);
        }

        .metrics-selection {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 10px;
        }

        .metrics-selection label {
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .monitoring-controls {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }

        /* New Styles for Learning & Moderation */
        .moderation-actions, .restriction-categories {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 10px;
            margin-top: 10px;
        }

        .moderation-actions label, .restriction-categories label {
            display: flex;
            align-items: center;
            gap: 5px;
            padding: 5px;
            background: #f8f9fa;
            border-radius: 4px;
        }

        .prompt-input {
            width: 100%;
            padding: 10px;
            border: 1px solid var(--border-color);
            border-radius: 5px;
            font-family: monospace;
            resize: vertical;
        }

        /* Enhanced Styles for Learning & Moderation */
        .parameter-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 10px;
        }

        .parameter-item {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        .learning-progress {
            display: grid;
            gap: 20px;
        }

        .progress-metrics {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
        }

        .progress-chart {
            height: 150px;
            background: white;
            border-radius: 8px;
            padding: 10px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .learning-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        .moderation-categories-grid, .moderation-actions-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 10px;
        }

        .category-group, .action-group {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
        }

        .category-group h5, .action-group h5 {
            margin: 0 0 10px 0;
            color: var(--primary-color);
        }

        .testing-tools {
            display: grid;
            gap: 20px;
        }

        .tool-section {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
        }

        .tool-controls {
            display: grid;
            gap: 10px;
            margin-top: 10px;
        }

        .test-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 10px;
        }

        .test-results {
            margin-top: 20px;
            padding: 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .help-container {
            display: flex;
            gap: 20px;
            margin-top: 20px;
        }

        .help-sidebar {
            width: 200px;
            background: #2a2a2a;
            border-radius: 8px;
            padding: 15px;
        }

        .help-nav {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .help-nav-item {
            background: none;
            border: none;
            color: #fff;
            padding: 10px;
            text-align: left;
            cursor: pointer;
            border-radius: 4px;
            transition: background-color 0.3s;
        }

        .help-nav-item:hover {
            background: #3a3a3a;
        }

        .help-nav-item.active {
            background: #4a4a4a;
        }

        .help-content {
            flex: 1;
            background: #2a2a2a;
            border-radius: 8px;
            padding: 20px;
        }

        .help-section {
            display: none;
        }

        .help-section.active {
            display: block;
        }

        .help-section h4 {
            color: #fff;
            margin-bottom: 15px;
        }

        .help-section h5 {
            color: #fff;
            margin: 15px 0 10px;
        }

        .help-section p {
            color: #ccc;
            margin-bottom: 15px;
            line-height: 1.5;
        }

        .help-section ul {
            color: #ccc;
            margin-left: 20px;
            margin-bottom: 15px;
        }

        .help-section li {
            margin-bottom: 8px;
            line-height: 1.4;
        }

        .help-section strong {
            color: #fff;
        }
    </style>
</head>
<body>
    <div class="admin-toggle" onclick="toggleAdminPanel()">⚙️</div>

    <div class="admin-panel" id="adminPanel">
        <div class="admin-header">
            <h2>Admin Panel</h2>
            <button onclick="toggleAdminPanel()" class="admin-button secondary">×</button>
        </div>

        <div class="admin-section">
            <h3>Feature Overview</h3>
            <div class="feature-stats">
                <div class="stat-item">
                    <div class="stat-value" id="totalFeatures">0</div>
                    <div class="stat-label">Total Features</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="activeFeatures">0</div>
                    <div class="stat-label">Active Features</div>
                </div>
            </div>
            <ul class="feature-list" id="featureList">
                <!-- Features will be populated dynamically -->
            </ul>
        </div>

        <div class="admin-section">
            <h3>LLM Integration</h3>
            <div class="llm-config">
                <div class="llm-provider">
                    <h4>OpenAI</h4>
                    <input type="text" class="api-key-input" placeholder="API Key" id="openaiKey">
                    <select class="model-select" id="openaiModel">
                        <option value="gpt-4">GPT-4</option>
                        <option value="gpt-3.5-turbo">GPT-3.5 Turbo</option>
                        <option value="gpt-4-turbo">GPT-4 Turbo</option>
                    </select>
                    <div class="integration-status">
                        <div class="status-indicator" id="openaiStatus"></div>
                        <span id="openaiStatusText">Disconnected</span>
                    </div>
                    <div class="admin-actions">
                        <button class="admin-button primary" onclick="testLLMConnection('openai')">Test Connection</button>
                        <button class="admin-button secondary" onclick="saveLLMConfig('openai')">Save</button>
                    </div>
                </div>

                <div class="llm-provider">
                    <h4>Anthropic</h4>
                    <input type="text" class="api-key-input" placeholder="API Key" id="anthropicKey">
                    <select class="model-select" id="anthropicModel">
                        <option value="claude-3-opus">Claude 3 Opus</option>
                        <option value="claude-3-sonnet">Claude 3 Sonnet</option>
                        <option value="claude-3-haiku">Claude 3 Haiku</option>
                    </select>
                    <div class="integration-status">
                        <div class="status-indicator" id="anthropicStatus"></div>
                        <span id="anthropicStatusText">Disconnected</span>
                    </div>
                    <div class="admin-actions">
                        <button class="admin-button primary" onclick="testLLMConnection('anthropic')">Test Connection</button>
                        <button class="admin-button secondary" onclick="saveLLMConfig('anthropic')">Save</button>
                    </div>
                </div>

                <div class="llm-provider">
                    <h4>Google AI</h4>
                    <input type="text" class="api-key-input" placeholder="API Key" id="googleKey">
                    <select class="model-select" id="googleModel">
                        <option value="gemini-pro">Gemini Pro</option>
                        <option value="gemini-ultra">Gemini Ultra</option>
                        <option value="palm-2">PaLM 2</option>
                    </select>
                    <div class="integration-status">
                        <div class="status-indicator" id="googleStatus"></div>
                        <span id="googleStatusText">Disconnected</span>
                    </div>
                    <div class="admin-actions">
                        <button class="admin-button primary" onclick="testLLMConnection('google')">Test Connection</button>
                        <button class="admin-button secondary" onclick="saveLLMConfig('google')">Save</button>
                    </div>
                </div>

                <div class="llm-provider">
                    <h4>Meta AI</h4>
                    <input type="text" class="api-key-input" placeholder="API Key" id="metaKey">
                    <select class="model-select" id="metaModel">
                        <option value="llama-2-70b">Llama 2 70B</option>
                        <option value="llama-2-13b">Llama 2 13B</option>
                        <option value="llama-2-7b">Llama 2 7B</option>
                    </select>
                    <div class="integration-status">
                        <div class="status-indicator" id="metaStatus"></div>
                        <span id="metaStatusText">Disconnected</span>
                    </div>
                    <div class="admin-actions">
                        <button class="admin-button primary" onclick="testLLMConnection('meta')">Test Connection</button>
                        <button class="admin-button secondary" onclick="saveLLMConfig('meta')">Save</button>
                    </div>
                </div>

                <div class="llm-provider">
                    <h4>Mistral AI</h4>
                    <input type="text" class="api-key-input" placeholder="API Key" id="mistralKey">
                    <select class="model-select" id="mistralModel">
                        <option value="mistral-large">Mistral Large</option>
                        <option value="mistral-medium">Mistral Medium</option>
                        <option value="mistral-small">Mistral Small</option>
                    </select>
                    <div class="integration-status">
                        <div class="status-indicator" id="mistralStatus"></div>
                        <span id="mistralStatusText">Disconnected</span>
                    </div>
                    <div class="admin-actions">
                        <button class="admin-button primary" onclick="testLLMConnection('mistral')">Test Connection</button>
                        <button class="admin-button secondary" onclick="saveLLMConfig('mistral')">Save</button>
                    </div>
                </div>

                <div class="llm-provider">
                    <h4>Custom LLM</h4>
                    <input type="text" class="api-key-input" placeholder="API Endpoint" id="customEndpoint">
                    <input type="text" class="api-key-input" placeholder="API Key" id="customKey">
                    <select class="model-select" id="customModel">
                        <option value="custom">Custom Model</option>
                    </select>
                    <div class="integration-status">
                        <div class="status-indicator" id="customStatus"></div>
                        <span id="customStatusText">Disconnected</span>
                    </div>
                    <div class="admin-actions">
                        <button class="admin-button primary" onclick="testLLMConnection('custom')">Test Connection</button>
                        <button class="admin-button secondary" onclick="saveLLMConfig('custom')">Save</button>
                    </div>
                </div>

                <!-- New Cohere AI Provider -->
                <div class="llm-provider">
                    <h4>Cohere AI</h4>
                    <input type="text" class="api-key-input" placeholder="API Key" id="cohereKey">
                    <select class="model-select" id="cohereModel">
                        <option value="command">Command</option>
                        <option value="command-light">Command Light</option>
                        <option value="command-nightly">Command Nightly</option>
                        <option value="embed-english">Embed English</option>
                        <option value="embed-multilingual">Embed Multilingual</option>
                    </select>
                    <div class="integration-status">
                        <div class="status-indicator" id="cohereStatus"></div>
                        <span id="cohereStatusText">Disconnected</span>
                    </div>
                    <div class="admin-actions">
                        <button class="admin-button primary" onclick="testLLMConnection('cohere')">Test Connection</button>
                        <button class="admin-button secondary" onclick="saveLLMConfig('cohere')">Save</button>
                    </div>
                </div>

                <!-- New Aleph Alpha Provider -->
                <div class="llm-provider">
                    <h4>Aleph Alpha</h4>
                    <input type="text" class="api-key-input" placeholder="API Key" id="alephKey">
                    <select class="model-select" id="alephModel">
                        <option value="luminous-base">Luminous Base</option>
                        <option value="luminous-extended">Luminous Extended</option>
                        <option value="luminous-supreme">Luminous Supreme</option>
                    </select>
                    <div class="integration-status">
                        <div class="status-indicator" id="alephStatus"></div>
                        <span id="alephStatusText">Disconnected</span>
                    </div>
                    <div class="admin-actions">
                        <button class="admin-button primary" onclick="testLLMConnection('aleph')">Test Connection</button>
                        <button class="admin-button secondary" onclick="saveLLMConfig('aleph')">Save</button>
                    </div>
                </div>

                <!-- New AI21 Labs Provider -->
                <div class="llm-provider">
                    <h4>AI21 Labs</h4>
                    <input type="text" class="api-key-input" placeholder="API Key" id="ai21Key">
                    <select class="model-select" id="ai21Model">
                        <option value="j2-ultra">Jurassic-2 Ultra</option>
                        <option value="j2-mid">Jurassic-2 Mid</option>
                        <option value="j2-light">Jurassic-2 Light</option>
                    </select>
                    <div class="integration-status">
                        <div class="status-indicator" id="ai21Status"></div>
                        <span id="ai21StatusText">Disconnected</span>
                    </div>
                    <div class="admin-actions">
                        <button class="admin-button primary" onclick="testLLMConnection('ai21')">Test Connection</button>
                        <button class="admin-button secondary" onclick="saveLLMConfig('ai21')">Save</button>
                    </div>
                </div>
            </div>
        </div>

        <div class="admin-section">
            <h3>Security Settings</h3>
            <div class="security-config">
                <div class="security-item">
                    <h4>API Key Management</h4>
                    <div class="security-options">
                        <label>
                            <input type="checkbox" id="keyRotation" onchange="updateSecuritySettings()">
                            Enable Automatic Key Rotation
                        </label>
                        <label>
                            <input type="checkbox" id="keyEncryption" onchange="updateSecuritySettings()">
                            Enable Key Encryption
                        </label>
                    </div>
                </div>
                <div class="security-item">
                    <h4>Access Control</h4>
                    <div class="security-options">
                        <label>
                            <input type="checkbox" id="ipRestriction" onchange="updateSecuritySettings()">
                            Enable IP Restriction
                        </label>
                        <label>
                            <input type="checkbox" id="rateLimiting" onchange="updateSecuritySettings()">
                            Enable Rate Limiting
                        </label>
                    </div>
                </div>
                <div class="security-item">
                    <h4>Audit Logging</h4>
                    <div class="security-options">
                        <label>
                            <input type="checkbox" id="auditLogging" onchange="updateSecuritySettings()">
                            Enable Audit Logging
                        </label>
                        <label>
                            <input type="checkbox" id="logEncryption" onchange="updateSecuritySettings()">
                            Enable Log Encryption
                        </label>
                    </div>
                </div>

                <!-- Enhanced Security Section -->
                <div class="security-item">
                    <h4>Advanced Security</h4>
                    <div class="security-options">
                        <label>
                            <input type="checkbox" id="mfa" onchange="updateSecuritySettings()">
                            Enable Multi-Factor Authentication
                        </label>
                        <label>
                            <input type="checkbox" id="sessionTimeout" onchange="updateSecuritySettings()">
                            Enable Session Timeout
                        </label>
                        <label>
                            <input type="checkbox" id="apiVersioning" onchange="updateSecuritySettings()">
                            Enable API Versioning
                        </label>
                        <label>
                            <input type="checkbox" id="requestSigning" onchange="updateSecuritySettings()">
                            Enable Request Signing
                        </label>
                    </div>
                </div>

                <!-- Enhanced Monitoring Section -->
                <div class="security-item">
                    <h4>System Monitoring</h4>
                    <div class="security-options">
                        <label>
                            <input type="checkbox" id="performanceMonitoring" onchange="updateSecuritySettings()">
                            Enable Performance Monitoring
                        </label>
                        <label>
                            <input type="checkbox" id="errorTracking" onchange="updateSecuritySettings()">
                            Enable Error Tracking
                        </label>
                        <label>
                            <input type="checkbox" id="usageMonitoring" onchange="updateSecuritySettings()">
                            Enable Usage Monitoring
                        </label>
                        <label>
                            <input type="checkbox" id="healthChecks" onchange="updateSecuritySettings()">
                            Enable Health Checks
                        </label>
                    </div>
                </div>
            </div>
        </div>

        <div class="admin-section">
            <h3>Analytics & Reporting</h3>
            <div class="analytics-dashboard">
                <div class="analytics-header">
                    <h4>Usage Statistics</h4>
                    <select id="timeRange" onchange="updateAnalytics()">
                        <option value="24h">Last 24 Hours</option>
                        <option value="7d">Last 7 Days</option>
                        <option value="30d">Last 30 Days</option>
                        <option value="90d">Last 90 Days</option>
                    </select>
                </div>
                <div class="analytics-grid">
                    <div class="analytics-card">
                        <h5>Model Performance</h5>
                        <div class="analytics-chart" id="modelPerformanceChart"></div>
                        <div class="chart-legend">
                            <span class="legend-item">Response Time</span>
                            <span class="legend-item">Token Usage</span>
                            <span class="legend-item">Error Rate</span>
                        </div>
                    </div>
                    <div class="analytics-card">
                        <h5>Cost Analysis</h5>
                        <div class="analytics-chart" id="costAnalysisChart"></div>
                        <div class="chart-legend">
                            <span class="legend-item">API Calls</span>
                            <span class="legend-item">Token Cost</span>
                            <span class="legend-item">Total Cost</span>
                        </div>
                    </div>
                    <div class="analytics-card">
                        <h5>Usage Patterns</h5>
                        <div class="analytics-chart" id="usagePatternsChart"></div>
                        <div class="chart-legend">
                            <span class="legend-item">Peak Hours</span>
                            <span class="legend-item">Model Distribution</span>
                        </div>
                    </div>
                    <div class="analytics-card">
                        <h5>Quality Metrics</h5>
                        <div class="analytics-chart" id="qualityMetricsChart"></div>
                        <div class="chart-legend">
                            <span class="legend-item">Accuracy</span>
                            <span class="legend-item">Relevance</span>
                            <span class="legend-item">Satisfaction</span>
                        </div>
                    </div>
                </div>
                <div class="analytics-actions">
                    <button class="admin-button primary" onclick="exportAnalytics()">Export Report</button>
                    <button class="admin-button secondary" onclick="scheduleReport()">Schedule Report</button>
                </div>
            </div>
        </div>

        <div class="admin-section">
            <h3>Advanced Configuration</h3>
            <div class="feature-config-grid">
                <div class="config-group">
                    <h4>Voice Settings</h4>
                    <div class="config-options">
                        <label>
                            <input type="checkbox" id="voiceCustomization" onchange="updateFeatureConfig()">
                            Enable Voice Customization
                        </label>
                        <label>
                            <input type="checkbox" id="voiceCloning" onchange="updateFeatureConfig()">
                            Enable Voice Cloning
                        </label>
                        <label>
                            <input type="checkbox" id="voiceTranslation" onchange="updateFeatureConfig()">
                            Enable Voice Translation
                        </label>
                    </div>
                </div>
                <div class="config-group">
                    <h4>Emotion Analysis</h4>
                    <div class="config-options">
                        <label>
                            <input type="checkbox" id="realTimeAnalysis" onchange="updateFeatureConfig()">
                            Enable Real-time Analysis
                        </label>
                        <label>
                            <input type="checkbox" id="emotionHistory" onchange="updateFeatureConfig()">
                            Enable Emotion History
                        </label>
                        <label>
                            <input type="checkbox" id="emotionTrends" onchange="updateFeatureConfig()">
                            Enable Emotion Trends
                        </label>
                    </div>
                </div>
                <div class="config-group">
                    <h4>Tag Management</h4>
                    <div class="config-options">
                        <label>
                            <input type="checkbox" id="autoTagging" onchange="updateFeatureConfig()">
                            Enable Auto-tagging
                        </label>
                        <label>
                            <input type="checkbox" id="tagSuggestions" onchange="updateFeatureConfig()">
                            Enable Tag Suggestions
                        </label>
                        <label>
                            <input type="checkbox" id="tagAnalytics" onchange="updateFeatureConfig()">
                            Enable Tag Analytics
                        </label>
                    </div>
                </div>

                <!-- Enhanced Feature Configuration -->
                <div class="config-group">
                    <h4>Advanced Voice Settings</h4>
                    <div class="config-options">
                        <label>
                            <input type="checkbox" id="voiceAdaptation" onchange="updateFeatureConfig()">
                            Enable Voice Adaptation
                        </label>
                        <label>
                            <input type="checkbox" id="voiceSynthesis" onchange="updateFeatureConfig()">
                            Enable Voice Synthesis
                        </label>
                        <label>
                            <input type="checkbox" id="voiceModulation" onchange="updateFeatureConfig()">
                            Enable Voice Modulation
                        </label>
                        <label>
                            <input type="checkbox" id="voicePreservation" onchange="updateFeatureConfig()">
                            Enable Voice Preservation
                        </label>
                    </div>
                </div>

                <div class="config-group">
                    <h4>Advanced Emotion Analysis</h4>
                    <div class="config-options">
                        <label>
                            <input type="checkbox" id="emotionPrediction" onchange="updateFeatureConfig()">
                            Enable Emotion Prediction
                        </label>
                        <label>
                            <input type="checkbox" id="emotionCorrelation" onchange="updateFeatureConfig()">
                            Enable Emotion Correlation
                        </label>
                        <label>
                            <input type="checkbox" id="emotionContext" onchange="updateFeatureConfig()">
                            Enable Emotion Context
                        </label>
                        <label>
                            <input type="checkbox" id="emotionLearning" onchange="updateFeatureConfig()">
                            Enable Emotion Learning
                        </label>
                    </div>
                </div>
            </div>
        </div>

        <!-- New Llama & Ollama Configuration Section -->
        <div class="admin-section">
            <h3>Llama & Ollama Configuration</h3>
            <div class="llama-config">
                <!-- Ollama Server Settings -->
                <div class="config-group">
                    <h4>Ollama Server</h4>
                    <div class="server-settings">
                        <div class="setting-item">
                            <label for="ollamaHost">Server Host</label>
                            <input type="text" id="ollamaHost" placeholder="http://localhost:11434" class="api-key-input">
                        </div>
                        <div class="setting-item">
                            <label for="ollamaTimeout">Request Timeout (ms)</label>
                            <input type="number" id="ollamaTimeout" value="30000" class="api-key-input">
                        </div>
                        <div class="setting-item">
                            <label for="ollamaMaxTokens">Max Tokens</label>
                            <input type="number" id="ollamaMaxTokens" value="4096" class="api-key-input">
                        </div>
                        <div class="admin-actions">
                            <button class="admin-button primary" onclick="testOllamaConnection()">Test Connection</button>
                            <button class="admin-button secondary" onclick="saveOllamaSettings()">Save Settings</button>
                        </div>
                    </div>
                </div>

                <!-- Model Management -->
                <div class="config-group">
                    <h4>Model Management</h4>
                    <div class="model-list" id="ollamaModelList">
                        <!-- Models will be populated dynamically -->
                    </div>
                    <div class="model-actions">
                        <button class="admin-button primary" onclick="pullNewModel()">Pull New Model</button>
                        <button class="admin-button secondary" onclick="refreshModelList()">Refresh List</button>
                    </div>
                </div>

                <!-- Model Configuration -->
                <div class="config-group">
                    <h4>Model Settings</h4>
                    <div class="model-settings">
                        <div class="setting-item">
                            <label for="selectedModel">Selected Model</label>
                            <select id="selectedModel" class="model-select" onchange="loadModelSettings()">
                                <!-- Models will be populated dynamically -->
                            </select>
                        </div>
                        <div class="setting-item">
                            <label for="temperature">Temperature</label>
                            <input type="range" id="temperature" min="0" max="2" step="0.1" value="0.7" 
                                   oninput="updateModelSettings()">
                            <span class="setting-value" id="temperatureValue">0.7</span>
                        </div>
                        <div class="setting-item">
                            <label for="topP">Top P</label>
                            <input type="range" id="topP" min="0" max="1" step="0.1" value="0.9" 
                                   oninput="updateModelSettings()">
                            <span class="setting-value" id="topPValue">0.9</span>
                        </div>
                        <div class="setting-item">
                            <label for="topK">Top K</label>
                            <input type="number" id="topK" value="40" class="api-key-input" 
                                   onchange="updateModelSettings()">
                        </div>
                        <div class="setting-item">
                            <label for="repeatPenalty">Repeat Penalty</label>
                            <input type="range" id="repeatPenalty" min="1" max="2" step="0.1" value="1.1" 
                                   oninput="updateModelSettings()">
                            <span class="setting-value" id="repeatPenaltyValue">1.1</span>
                        </div>
                        <div class="setting-item">
                            <label for="contextWindow">Context Window</label>
                            <input type="number" id="contextWindow" value="4096" class="api-key-input" 
                                   onchange="updateModelSettings()">
                        </div>
                        <!-- New Advanced Settings -->
                        <div class="setting-item">
                            <label for="modelQuantization">Model Quantization</label>
                            <select id="modelQuantization" class="model-select" onchange="updateModelSettings()">
                                <option value="none">None</option>
                                <option value="q4_0">Q4_0</option>
                                <option value="q4_1">Q4_1</option>
                                <option value="q5_0">Q5_0</option>
                                <option value="q5_1">Q5_1</option>
                                <option value="q8_0">Q8_0</option>
                            </select>
                        </div>
                        <div class="setting-item">
                            <label for="numGpuLayers">GPU Layers</label>
                            <input type="number" id="numGpuLayers" min="0" max="100" value="0" 
                                   class="api-key-input" onchange="updateModelSettings()">
                        </div>
                        <div class="setting-item">
                            <label for="numThreads">CPU Threads</label>
                            <input type="number" id="numThreads" min="1" max="32" value="4" 
                                   class="api-key-input" onchange="updateModelSettings()">
                        </div>
                        <div class="setting-item">
                            <label for="batchSize">Batch Size</label>
                            <input type="number" id="batchSize" min="1" max="512" value="512" 
                                   class="api-key-input" onchange="updateModelSettings()">
                        </div>
                        <div class="setting-item">
                            <label for="ropeScaling">RoPE Scaling</label>
                            <select id="ropeScaling" class="model-select" onchange="updateModelSettings()">
                                <option value="none">None</option>
                                <option value="linear">Linear</option>
                                <option value="dynamic">Dynamic</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- Model Fine-tuning -->
                <div class="config-group">
                    <h4>Model Fine-tuning</h4>
                    <div class="fine-tuning-settings">
                        <div class="setting-item">
                            <label for="trainingData">Training Data</label>
                            <input type="file" id="trainingData" multiple accept=".json,.jsonl,.txt" 
                                   onchange="handleTrainingData()">
                        </div>
                        <div class="setting-item">
                            <label for="learningRate">Learning Rate</label>
                            <input type="number" id="learningRate" min="0.00001" max="0.1" step="0.00001" 
                                   value="0.0001" class="api-key-input" onchange="updateFineTuningSettings()">
                        </div>
                        <div class="setting-item">
                            <label for="epochs">Epochs</label>
                            <input type="number" id="epochs" min="1" max="100" value="3" 
                                   class="api-key-input" onchange="updateFineTuningSettings()">
                        </div>
                        <div class="setting-item">
                            <label for="batchSize">Batch Size</label>
                            <input type="number" id="batchSize" min="1" max="128" value="4" 
                                   class="api-key-input" onchange="updateFineTuningSettings()">
                        </div>
                        <div class="setting-item">
                            <label for="loraRank">LoRA Rank</label>
                            <input type="number" id="loraRank" min="1" max="128" value="8" 
                                   class="api-key-input" onchange="updateFineTuningSettings()">
                        </div>
                        <div class="admin-actions">
                            <button class="admin-button primary" onclick="startFineTuning()">Start Fine-tuning</button>
                            <button class="admin-button secondary" onclick="stopFineTuning()">Stop</button>
                        </div>
                    </div>
                </div>

                <!-- Model Comparison -->
                <div class="config-group">
                    <h4>Model Comparison</h4>
                    <div class="model-comparison">
                        <div class="comparison-controls">
                            <select id="model1" class="model-select" onchange="updateComparison()">
                                <!-- Models will be populated dynamically -->
                            </select>
                            <select id="model2" class="model-select" onchange="updateComparison()">
                                <!-- Models will be populated dynamically -->
                            </select>
                        </div>
                        <div class="comparison-metrics">
                            <div class="metric-card">
                                <h5>Response Time</h5>
                                <div class="comparison-chart" id="responseTimeComparison"></div>
                            </div>
                            <div class="metric-card">
                                <h5>Token Rate</h5>
                                <div class="comparison-chart" id="tokenRateComparison"></div>
                            </div>
                            <div class="metric-card">
                                <h5>Memory Usage</h5>
                                <div class="comparison-chart" id="memoryUsageComparison"></div>
                            </div>
                            <div class="metric-card">
                                <h5>Quality Score</h5>
                                <div class="comparison-chart" id="qualityScoreComparison"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Enhanced Performance Monitoring -->
                <div class="config-group">
                    <h4>Advanced Performance Monitoring</h4>
                    <div class="performance-monitoring">
                        <div class="monitoring-controls">
                            <select id="monitoringInterval" onchange="updateMonitoringInterval()">
                                <option value="5000">5 seconds</option>
                                <option value="10000">10 seconds</option>
                                <option value="30000">30 seconds</option>
                                <option value="60000">1 minute</option>
                            </select>
                            <button class="admin-button primary" onclick="exportPerformanceData()">Export Data</button>
                        </div>
                        <div class="performance-grid">
                            <div class="performance-card">
                                <h5>CPU Usage</h5>
                                <div class="performance-chart" id="cpuUsageChart"></div>
                            </div>
                            <div class="performance-card">
                                <h5>GPU Usage</h5>
                                <div class="performance-chart" id="gpuUsageChart"></div>
                            </div>
                            <div class="performance-card">
                                <h5>Memory Usage</h5>
                                <div class="performance-chart" id="memoryUsageChart"></div>
                            </div>
                            <div class="performance-card">
                                <h5>Token Processing</h5>
                                <div class="performance-chart" id="tokenProcessingChart"></div>
                            </div>
                        </div>
                        <div class="performance-metrics-table">
                            <table>
                                <thead>
                                    <tr>
                                        <th>Metric</th>
                                        <th>Current</th>
                                        <th>Average</th>
                                        <th>Peak</th>
                                        <th>Trend</th>
                                    </tr>
                                </thead>
                                <tbody id="performanceMetricsBody">
                                    <!-- Metrics will be populated dynamically -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Enhanced Visualization Options -->
                <div class="config-group">
                    <h4>Visualization Options</h4>
                    <div class="visualization-settings">
                        <div class="setting-item">
                            <label for="chartType">Chart Type</label>
                            <select id="chartType" onchange="updateVisualization()">
                                <option value="line">Line Chart</option>
                                <option value="bar">Bar Chart</option>
                                <option value="area">Area Chart</option>
                                <option value="scatter">Scatter Plot</option>
                            </select>
                        </div>
                        <div class="setting-item">
                            <label for="timeRange">Time Range</label>
                            <select id="timeRange" onchange="updateVisualization()">
                                <option value="1h">Last Hour</option>
                                <option value="6h">Last 6 Hours</option>
                                <option value="24h">Last 24 Hours</option>
                                <option value="7d">Last 7 Days</option>
                            </select>
                        </div>
                        <div class="setting-item">
                            <label for="metrics">Metrics to Display</label>
                            <div class="metrics-selection">
                                <label><input type="checkbox" value="responseTime" checked> Response Time</label>
                                <label><input type="checkbox" value="tokenRate" checked> Token Rate</label>
                                <label><input type="checkbox" value="memoryUsage" checked> Memory Usage</label>
                                <label><input type="checkbox" value="gpuUsage" checked> GPU Usage</label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- New Learning & Moderation Section -->
        <div class="admin-section">
            <h3>Learning & Moderation</h3>
            <div class="llama-config">
                <!-- Reinforced Learning -->
                <div class="config-group">
                    <h4>Reinforced Learning</h4>
                    <div class="server-settings">
                        <div class="setting-item">
                            <label for="learningMode">Learning Mode</label>
                            <select id="learningMode" class="model-select" onchange="updateLearningSettings()">
                                <option value="off">Off</option>
                                <option value="passive">Passive Learning</option>
                                <option value="active">Active Learning</option>
                                <option value="reinforced">Reinforced Learning</option>
                                <option value="supervised">Supervised Learning</option>
                                <option value="unsupervised">Unsupervised Learning</option>
                                <option value="transfer">Transfer Learning</option>
                                <option value="federated">Federated Learning</option>
                                <option value="meta">Meta Learning</option>
                            </select>
                        </div>
                        <div class="setting-item">
                            <label for="learningStrategy">Learning Strategy</label>
                            <select id="learningStrategy" class="model-select" onchange="updateLearningSettings()">
                                <option value="standard">Standard</option>
                                <option value="curriculum">Curriculum Learning</option>
                                <option value="active">Active Learning</option>
                                <option value="self-supervised">Self-Supervised</option>
                                <option value="few-shot">Few-Shot Learning</option>
                                <option value="zero-shot">Zero-Shot Learning</option>
                            </select>
                        </div>
                        <div class="setting-item">
                            <label for="learningParameters">Learning Parameters</label>
                            <div class="parameter-grid">
                                <div class="parameter-item">
                                    <label>Learning Rate</label>
                                    <input type="range" id="learningRate" min="0" max="1" step="0.01" value="0.1" 
                                           oninput="updateLearningSettings()">
                                    <span class="setting-value" id="learningRateValue">0.1</span>
                                </div>
                                <div class="parameter-item">
                                    <label>Momentum</label>
                                    <input type="range" id="momentum" min="0" max="1" step="0.01" value="0.9" 
                                           oninput="updateLearningSettings()">
                                    <span class="setting-value" id="momentumValue">0.9</span>
                                </div>
                                <div class="parameter-item">
                                    <label>Decay Rate</label>
                                    <input type="range" id="decayRate" min="0" max="1" step="0.01" value="0.95" 
                                           oninput="updateLearningSettings()">
                                    <span class="setting-value" id="decayRateValue">0.95</span>
                                </div>
                                <div class="parameter-item">
                                    <label>Batch Size</label>
                                    <input type="number" id="batchSize" min="1" max="1024" value="32" 
                                           class="api-key-input" onchange="updateLearningSettings()">
                                </div>
                            </div>
                        </div>
                        <div class="setting-item">
                            <label for="learningOptimization">Optimization Strategy</label>
                            <select id="learningOptimization" class="model-select" onchange="updateLearningSettings()">
                                <option value="adam">Adam</option>
                                <option value="sgd">SGD</option>
                                <option value="rmsprop">RMSprop</option>
                                <option value="adagrad">AdaGrad</option>
                                <option value="adamax">AdaMax</option>
                            </select>
                        </div>
                        <div class="admin-actions">
                            <button class="admin-button primary" onclick="startLearning()">Start Learning</button>
                            <button class="admin-button secondary" onclick="pauseLearning()">Pause</button>
                            <button class="admin-button danger" onclick="resetLearning()">Reset</button>
                        </div>
                    </div>
                </div>

                <!-- Learning Progress Visualization -->
                <div class="config-group">
                    <h4>Learning Progress</h4>
                    <div class="learning-progress">
                        <div class="progress-metrics">
                            <div class="metric-card">
                                <h5>Learning Progress</h5>
                                <div class="progress-chart" id="learningProgressChart"></div>
                            </div>
                            <div class="metric-card">
                                <h5>Accuracy</h5>
                                <div class="progress-chart" id="accuracyChart"></div>
                            </div>
                            <div class="metric-card">
                                <h5>Loss</h5>
                                <div class="progress-chart" id="lossChart"></div>
                            </div>
                            <div class="metric-card">
                                <h5>Learning Rate</h5>
                                <div class="progress-chart" id="learningRateChart"></div>
                            </div>
                        </div>
                        <div class="learning-stats">
                            <div class="stat-item">
                                <span class="stat-label">Total Samples</span>
                                <span class="stat-value" id="totalSamples">0</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">Accuracy</span>
                                <span class="stat-value" id="currentAccuracy">0%</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">Loss</span>
                                <span class="stat-value" id="currentLoss">0</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">Learning Rate</span>
                                <span class="stat-value" id="currentLearningRate">0</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Moderation -->
                <div class="config-group">
                    <h4>Moderation</h4>
                    <div class="moderation-actions">
                        <div class="action-group">
                            <h5>Immediate Actions</h5>
                            <label><input type="checkbox" id="actionWarn" onchange="updateModeration()">Warn User</label>
                            <label><input type="checkbox" id="actionBlock" onchange="updateModeration()">Block Content</label>
                            <label><input type="checkbox" id="actionMute" onchange="updateModeration()">Mute User</label>
                            <label><input type="checkbox" id="actionReport" onchange="updateModeration()">Report to Admin</label>
                        </div>
                        <div class="action-group">
                            <h5>Long-term Actions</h5>
                            <label><input type="checkbox" id="actionBan" onchange="updateModeration()">Ban User</label>
                            <label><input type="checkbox" id="actionRestrict" onchange="updateModeration()">Restrict Access</label>
                            <label><input type="checkbox" id="actionMonitor" onchange="updateModeration()">Monitor Activity</label>
                            <label><input type="checkbox" id="actionEducate" onchange="updateModeration()">Educational Content</label>
                        </div>
                    </div>
                    <div class="admin-actions">
                        <button class="admin-button primary" onclick="testModeration()">Test Moderation</button>
                        <button class="admin-button secondary" onclick="exportModerationConfig()">Export Config</button>
                        <button class="admin-button" onclick="viewModerationLogs()">View Logs</button>
                    </div>
                </div>

                <!-- Testing Tools -->
                <div class="config-group">
                    <h4>Testing Tools</h4>
                    <div class="testing-tools">
                        <div class="tool-section">
                            <h5>Content Testing</h5>
                            <div class="tool-controls">
                                <textarea id="testContent" class="prompt-input" rows="4" 
                                          placeholder="Enter content to test"></textarea>
                                <div class="test-options">
                                    <label><input type="checkbox" id="testModeration" checked> Moderation</label>
                                    <label><input type="checkbox" id="testRestrictions" checked> Restrictions</label>
                                    <label><input type="checkbox" id="testContext" checked> Context</label>
                                    <label><input type="checkbox" id="testSentiment" checked> Sentiment</label>
                                </div>
                                <button class="admin-button primary" onclick="runContentTest()">Run Test</button>
                            </div>
                        </div>
                        <div class="tool-section">
                            <h5>Bulk Testing</h5>
                            <div class="tool-controls">
                                <input type="file" id="bulkTestFile" accept=".txt,.csv,.json" 
                                       onchange="handleBulkTestFile()">
                                <div class="test-options">
                                    <label><input type="checkbox" id="bulkModeration" checked> Moderation</label>
                                    <label><input type="checkbox" id="bulkRestrictions" checked> Restrictions</label>
                                    <label><input type="checkbox" id="bulkContext" checked> Context</label>
                                </div>
                                <button class="admin-button primary" onclick="runBulkTest()">Run Bulk Test</button>
                            </div>
                        </div>
                        <div class="tool-section">
                            <h5>Scenario Testing</h5>
                            <div class="tool-controls">
                                <select id="testScenario" class="model-select">
                                    <option value="hate">Hate Speech</option>
                                    <option value="harassment">Harassment</option>
                                    <option value="misinformation">Misinformation</option>
                                    <option value="spam">Spam</option>
                                    <option value="personal">Personal Information</option>
                                </select>
                                <button class="admin-button primary" onclick="runScenarioTest()">Run Scenario</button>
                            </div>
                        </div>
                        <div class="test-results" id="testResults">
                            <!-- Test results will be displayed here -->
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Enhanced Learning & Moderation Section -->
        <div class="admin-section">
            <h3>Enhanced Learning & Moderation</h3>
            <div class="llama-config">
                <!-- Advanced Reinforced Learning -->
                <div class="config-group">
                    <h4>Advanced Reinforced Learning</h4>
                    <div class="server-settings">
                        <div class="setting-item">
                            <label for="advancedLearningMode">Learning Mode</label>
                            <select id="advancedLearningMode" class="model-select" onchange="updateAdvancedLearningSettings()">
                                <option value="off">Off</option>
                                <option value="passive">Passive Learning</option>
                                <option value="active">Active Learning</option>
                                <option value="reinforced">Reinforced Learning</option>
                                <option value="supervised">Supervised Learning</option>
                                <option value="unsupervised">Unsupervised Learning</option>
                                <option value="transfer">Transfer Learning</option>
                                <option value="federated">Federated Learning</option>
                                <option value="meta">Meta Learning</option>
                            </select>
                        </div>
                        <div class="setting-item">
                            <label for="learningStrategy">Learning Strategy</label>
                            <select id="learningStrategy" class="model-select" onchange="updateAdvancedLearningSettings()">
                                <option value="standard">Standard</option>
                                <option value="curriculum">Curriculum Learning</option>
                                <option value="active">Active Learning</option>
                                <option value="self-supervised">Self-Supervised</option>
                                <option value="few-shot">Few-Shot Learning</option>
                                <option value="zero-shot">Zero-Shot Learning</option>
                            </select>
                        </div>
                        <div class="setting-item">
                            <label for="learningParameters">Learning Parameters</label>
                            <div class="parameter-grid">
                                <div class="parameter-item">
                                    <label>Learning Rate</label>
                                    <input type="range" id="advancedLearningRate" min="0" max="1" step="0.01" value="0.1" 
                                           oninput="updateAdvancedLearningSettings()">
                                    <span class="setting-value" id="advancedLearningRateValue">0.1</span>
                                </div>
                                <div class="parameter-item">
                                    <label>Momentum</label>
                                    <input type="range" id="momentum" min="0" max="1" step="0.01" value="0.9" 
                                           oninput="updateAdvancedLearningSettings()">
                                    <span class="setting-value" id="momentumValue">0.9</span>
                                </div>
                                <div class="parameter-item">
                                    <label>Decay Rate</label>
                                    <input type="range" id="decayRate" min="0" max="1" step="0.01" value="0.95" 
                                           oninput="updateAdvancedLearningSettings()">
                                    <span class="setting-value" id="decayRateValue">0.95</span>
                                </div>
                                <div class="parameter-item">
                                    <label>Batch Size</label>
                                    <input type="number" id="learningBatchSize" min="1" max="1024" value="32" 
                                           class="api-key-input" onchange="updateAdvancedLearningSettings()">
                                </div>
                            </div>
                        </div>
                        <div class="setting-item">
                            <label for="learningOptimization">Optimization Strategy</label>
                            <select id="learningOptimization" class="model-select" onchange="updateAdvancedLearningSettings()">
                                <option value="adam">Adam</option>
                                <option value="sgd">SGD</option>
                                <option value="rmsprop">RMSprop</option>
                                <option value="adagrad">AdaGrad</option>
                                <option value="adamax">AdaMax</option>
                            </select>
                        </div>
                        <div class="admin-actions">
                            <button class="admin-button primary" onclick="startAdvancedLearning()">Start Learning</button>
                            <button class="admin-button secondary" onclick="pauseLearning()">Pause</button>
                            <button class="admin-button danger" onclick="resetAdvancedLearning()">Reset</button>
                        </div>
                    </div>
                </div>

                <!-- Learning Progress Visualization -->
                <div class="config-group">
                    <h4>Learning Progress</h4>
                    <div class="learning-progress">
                        <div class="progress-metrics">
                            <div class="metric-card">
                                <h5>Learning Progress</h5>
                                <div class="progress-chart" id="learningProgressChart"></div>
                            </div>
                            <div class="metric-card">
                                <h5>Accuracy</h5>
                                <div class="progress-chart" id="accuracyChart"></div>
                            </div>
                            <div class="metric-card">
                                <h5>Loss</h5>
                                <div class="progress-chart" id="lossChart"></div>
                            </div>
                            <div class="metric-card">
                                <h5>Learning Rate</h5>
                                <div class="progress-chart" id="learningRateChart"></div>
                            </div>
                        </div>
                        <div class="learning-stats">
                            <div class="stat-item">
                                <span class="stat-label">Total Samples</span>
                                <span class="stat-value" id="totalSamples">0</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">Accuracy</span>
                                <span class="stat-value" id="currentAccuracy">0%</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">Loss</span>
                                <span class="stat-value" id="currentLoss">0</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">Learning Rate</span>
                                <span class="stat-value" id="currentLearningRate">0</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Enhanced Moderation -->
                <div class="config-group">
                    <h4>Enhanced Moderation</h4>
                    <div class="server-settings">
                        <div class="setting-item">
                            <label for="moderationEngine">Moderation Engine</label>
                            <select id="moderationEngine" class="model-select" onchange="updateEnhancedModeration()">
                                <option value="basic">Basic</option>
                                <option value="advanced">Advanced</option>
                                <option value="ml">Machine Learning</option>
                                <option value="hybrid">Hybrid</option>
                            </select>
                        </div>
                        <div class="setting-item">
                            <label for="moderationCategories">Moderation Categories</label>
                            <div class="moderation-categories-grid">
                                <div class="category-group">
                                    <h5>Content Categories</h5>
                                    <label><input type="checkbox" id="modPolitics" onchange="updateEnhancedModeration()">Politics</label>
                                    <label><input type="checkbox" id="modReligion" onchange="updateEnhancedModeration()">Religion</label>
                                    <label><input type="checkbox" id="modAdult" onchange="updateEnhancedModeration()">Adult Content</label>
                                    <label><input type="checkbox" id="modViolence" onchange="updateEnhancedModeration()">Violence</label>
                                    <label><input type="checkbox" id="modHate" onchange="updateEnhancedModeration()">Hate Speech</label>
                                    <label><input type="checkbox" id="modPersonal" onchange="updateEnhancedModeration()">Personal Info</label>
                                    <label><input type="checkbox" id="modDiscrimination" onchange="updateEnhancedModeration()">Discrimination</label>
                                    <label><input type="checkbox" id="modHarassment" onchange="updateEnhancedModeration()">Harassment</label>
                                    <label><input type="checkbox" id="modMisinformation" onchange="updateEnhancedModeration()">Misinformation</label>
                                    <label><input type="checkbox" id="modSpam" onchange="updateEnhancedModeration()">Spam</label>
                                </div>
                                <div class="category-group">
                                    <h5>Context Categories</h5>
                                    <label><input type="checkbox" id="modContext" onchange="updateEnhancedModeration()">Context Analysis</label>
                                    <label><input type="checkbox" id="modSentiment" onchange="updateEnhancedModeration()">Sentiment Analysis</label>
                                    <label><input type="checkbox" id="modTone" onchange="updateEnhancedModeration()">Tone Analysis</label>
                                    <label><input type="checkbox" id="modIntent" onchange="updateEnhancedModeration()">Intent Analysis</label>
                                    <label><input type="checkbox" id="modCultural" onchange="updateEnhancedModeration()">Cultural Context</label>
                                </div>
                            </div>
                        </div>
                        <div class="setting-item">
                            <label for="moderationActions">Moderation Actions</label>
                            <div class="moderation-actions-grid">
                                <div class="action-group">
                                    <h5>Immediate Actions</h5>
                                    <label><input type="checkbox" id="actionWarn" onchange="updateEnhancedModeration()">Warn User</label>
                                    <label><input type="checkbox" id="actionBlock" onchange="updateEnhancedModeration()">Block Content</label>
                                    <label><input type="checkbox" id="actionMute" onchange="updateEnhancedModeration()">Mute User</label>
                                    <label><input type="checkbox" id="actionReport" onchange="updateEnhancedModeration()">Report to Admin</label>
                                </div>
                                <div class="action-group">
                                    <h5>Long-term Actions</h5>
                                    <label><input type="checkbox" id="actionBan" onchange="updateEnhancedModeration()">Ban User</label>
                                    <label><input type="checkbox" id="actionRestrict" onchange="updateEnhancedModeration()">Restrict Access</label>
                                    <label><input type="checkbox" id="actionMonitor" onchange="updateEnhancedModeration()">Monitor Activity</label>
                                    <label><input type="checkbox" id="actionEducate" onchange="updateEnhancedModeration()">Educational Content</label>
                                </div>
                            </div>
                        </div>
                        <div class="admin-actions">
                            <button class="admin-button primary" onclick="testEnhancedModeration()">Test Moderation</button>
                            <button class="admin-button secondary" onclick="exportModerationConfig()">Export Config</button>
                            <button class="admin-button" onclick="viewModerationLogs()">View Logs</button>
                        </div>
                    </div>
                </div>

                <!-- Advanced Testing Tools -->
                <div class="config-group">
                    <h4>Advanced Testing Tools</h4>
                    <div class="testing-tools">
                        <div class="tool-section">
                            <h5>Content Testing</h5>
                            <div class="tool-controls">
                                <textarea id="testContent" class="prompt-input" rows="4" 
                                          placeholder="Enter content to test"></textarea>
                                <div class="test-options">
                                    <label><input type="checkbox" id="testModeration" checked> Moderation</label>
                                    <label><input type="checkbox" id="testRestrictions" checked> Restrictions</label>
                                    <label><input type="checkbox" id="testContext" checked> Context</label>
                                    <label><input type="checkbox" id="testSentiment" checked> Sentiment</label>
                                </div>
                                <button class="admin-button primary" onclick="runContentTest()">Run Test</button>
                            </div>
                        </div>
                        <div class="tool-section">
                            <h5>Bulk Testing</h5>
                            <div class="tool-controls">
                                <input type="file" id="bulkTestFile" accept=".txt,.csv,.json" 
                                       onchange="handleBulkTestFile()">
                                <div class="test-options">
                                    <label><input type="checkbox" id="bulkModeration" checked> Moderation</label>
                                    <label><input type="checkbox" id="bulkRestrictions" checked> Restrictions</label>
                                    <label><input type="checkbox" id="bulkContext" checked> Context</label>
                                </div>
                                <button class="admin-button primary" onclick="runBulkTest()">Run Bulk Test</button>
                            </div>
                        </div>
                        <div class="tool-section">
                            <h5>Scenario Testing</h5>
                            <div class="tool-controls">
                                <select id="testScenario" class="model-select">
                                    <option value="hate">Hate Speech</option>
                                    <option value="harassment">Harassment</option>
                                    <option value="misinformation">Misinformation</option>
                                    <option value="spam">Spam</option>
                                    <option value="personal">Personal Information</option>
                                </select>
                                <button class="admin-button primary" onclick="runScenarioTest()">Run Scenario</button>
                            </div>
                        </div>
                        <div class="test-results" id="testResults">
                            <!-- Test results will be displayed here -->
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- New Learning Modes & Parameters -->
        <div class="config-group">
            <h4>Advanced Learning Modes</h4>
            <div class="server-settings">
                <div class="setting-item">
                    <label for="learningMode">Learning Mode</label>
                    <select id="learningMode" class="model-select" onchange="updateLearningSettings()">
                        <option value="off">Off</option>
                        <option value="passive">Passive Learning</option>
                        <option value="active">Active Learning</option>
                        <option value="reinforced">Reinforced Learning</option>
                        <option value="supervised">Supervised Learning</option>
                        <option value="unsupervised">Unsupervised Learning</option>
                        <option value="transfer">Transfer Learning</option>
                        <option value="federated">Federated Learning</option>
                        <option value="meta">Meta Learning</option>
                        <option value="continual">Continual Learning</option>
                        <option value="curriculum">Curriculum Learning</option>
    </div>

    <script>
        // ... existing script code ...

        // Initialize admin panel
        document.addEventListener('DOMContentLoaded', () => {
            updateFeatureList();
            loadFeatureStats();
            loadLLMConfigs();
        });

        // Admin Panel Functions
        function toggleAdminPanel() {
            const panel = document.getElementById('adminPanel');
            panel.classList.toggle('active');
            if (panel.classList.contains('active')) {
                loadFeatureStats();
                loadLLMConfigs();
            }
        }

        function loadFeatureStats() {
            const features = {
                total: Object.keys(voicePresets).length + 
                       Object.keys(tagCategories).length + 
                       Object.keys(emotionVisualizations).length,
                active: Object.keys(voicePresets).length
            };

            document.getElementById('totalFeatures').textContent = features.total;
            document.getElementById('activeFeatures').textContent = features.active;
        }

        function loadLLMConfigs() {
            const configs = JSON.parse(localStorage.getItem('llmConfigs') || '{}');
            Object.entries(configs).forEach(([provider, config]) => {
                if (document.getElementById(`${provider}Key`)) {
                    document.getElementById(`${provider}Key`).value = config.apiKey || '';
                    document.getElementById(`${provider}Model`).value = config.model || '';
                    updateConnectionStatus(provider, config.status || 'disconnected');
                }
            });
        }

        function saveLLMConfig(provider) {
            const config = {
                apiKey: document.getElementById(`${provider}Key`).value,
                model: document.getElementById(`${provider}Model`).value,
                status: 'disconnected'
            };

            const configs = JSON.parse(localStorage.getItem('llmConfigs') || '{}');
            configs[provider] = config;
            localStorage.setItem('llmConfigs', JSON.stringify(configs));
            showNotification(`Saved ${provider} configuration`, 'success');
        }

        function testLLMConnection(provider) {
            const statusIndicator = document.getElementById(`${provider}Status`);
            const statusText = document.getElementById(`${provider}StatusText`);
            
            statusIndicator.className = 'status-indicator status-connecting';
            statusText.textContent = 'Connecting...';

            setTimeout(() => {
                const success = Math.random() > 0.5;
                updateConnectionStatus(provider, success ? 'connected' : 'disconnected');
                showNotification(
                    success ? `Successfully connected to ${provider}` : `Failed to connect to ${provider}`,
                    success ? 'success' : 'error'
                );
            }, 1500);
        }

        function updateConnectionStatus(provider, status) {
            const statusIndicator = document.getElementById(`${provider}Status`);
            const statusText = document.getElementById(`${provider}StatusText`);
            
            statusIndicator.className = `status-indicator status-${status}`;
            statusText.textContent = status.charAt(0).toUpperCase() + status.slice(1);

            const configs = JSON.parse(localStorage.getItem('llmConfigs') || '{}');
            if (configs[provider]) {
                configs[provider].status = status;
                localStorage.setItem('llmConfigs', JSON.stringify(configs));
            }
        }

        function updateFeatureList() {
            const featureList = document.getElementById('featureList');
            const features = [
                {
                    name: 'Voice Presets',
                    status: 'active',
                    description: 'Customizable voice profiles for different scenarios',
                    stats: {
                        total: Object.keys(voicePresets).length,
                        active: Object.keys(voicePresets).length
                    }
                },
                {
                    name: 'Emotion Analysis',
                    status: 'active',
                    description: 'Real-time emotion tracking and visualization',
                    stats: {
                        total: Object.keys(emotions).length,
                        active: Object.keys(emotions).length
                    }
                },
                {
                    name: 'Tag Management',
                    status: 'active',
                    description: 'Organize and categorize conversations',
                    stats: {
                        total: Object.keys(tagCategories).length,
                        active: Object.keys(tagCategories).length
                    }
                },
                {
                    name: 'History Analysis',
                    status: 'beta',
                    description: 'Advanced conversation history analysis',
                    stats: {
                        total: chatHistoryData.length,
                        active: chatHistoryData.length
                    }
                }
            ];

            featureList.innerHTML = features.map(feature => `
                <li class="feature-item">
                    <div>
                        <strong>${feature.name}</strong>
                        <div>${feature.description}</div>
                        <div class="feature-stats">
                            <div class="stat-item">
                                <div class="stat-value">${feature.stats.total}</div>
                                <div class="stat-label">Total</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value">${feature.stats.active}</div>
                                <div class="stat-label">Active</div>
                            </div>
                        </div>
                    </div>
                    <span class="feature-status status-${feature.status}">${feature.status}</span>
                </li>
            `).join('');
        }

        // ... rest of the existing code ...

        // Enhanced Security Functions
        function updateSecuritySettings() {
            const settings = {
                keyRotation: document.getElementById('keyRotation').checked,
                keyEncryption: document.getElementById('keyEncryption').checked,
                ipRestriction: document.getElementById('ipRestriction').checked,
                rateLimiting: document.getElementById('rateLimiting').checked,
                auditLogging: document.getElementById('auditLogging').checked,
                logEncryption: document.getElementById('logEncryption').checked,
                
                // New security settings
                mfa: document.getElementById('mfa').checked,
                sessionTimeout: document.getElementById('sessionTimeout').checked,
                apiVersioning: document.getElementById('apiVersioning').checked,
                requestSigning: document.getElementById('requestSigning').checked,
                
                // New monitoring settings
                performanceMonitoring: document.getElementById('performanceMonitoring').checked,
                errorTracking: document.getElementById('errorTracking').checked,
                usageMonitoring: document.getElementById('usageMonitoring').checked,
                healthChecks: document.getElementById('healthChecks').checked
            };

            localStorage.setItem('securitySettings', JSON.stringify(settings));
            showNotification('Security settings updated', 'success');
        }

        // Enhanced Analytics Functions
        function updateAnalytics() {
            const timeRange = document.getElementById('timeRange').value;
            // Simulate loading analytics data
            showNotification('Loading analytics data...', 'info');
            
            // Update charts with mock data
            updateChart('apiCallsChart', generateMockData());
            updateChart('responseTimeChart', generateMockData());
            updateChart('errorRateChart', generateMockData());
            updateChart('tokenUsageChart', generateMockData());
        }

        function generateMockData() {
            return Array.from({length: 24}, () => Math.random() * 100);
        }

        function updateChart(chartId, data) {
            const chart = document.getElementById(chartId);
            // Implement chart visualization here
            // This is a placeholder for actual chart implementation
            chart.innerHTML = `<div style="height: 100%; display: flex; align-items: flex-end;">
                ${data.map(value => `
                    <div style="width: 4%; height: ${value}%; background: var(--primary-color); margin: 0 1%;"></div>
                `).join('')}
            </div>`;
        }

        function exportAnalytics() {
            showNotification('Exporting analytics report...', 'info');
            // Implement export functionality
        }

        function scheduleReport() {
            showNotification('Scheduling report...', 'info');
            // Implement report scheduling
        }

        // Enhanced Feature Configuration
        function updateFeatureConfig() {
            const config = {
                voice: {
                    customization: document.getElementById('voiceCustomization').checked,
                    cloning: document.getElementById('voiceCloning').checked,
                    translation: document.getElementById('voiceTranslation').checked,
                    
                    // New voice settings
                    adaptation: document.getElementById('voiceAdaptation').checked,
                    synthesis: document.getElementById('voiceSynthesis').checked,
                    modulation: document.getElementById('voiceModulation').checked,
                    preservation: document.getElementById('voicePreservation').checked
                },
                emotion: {
                    realTime: document.getElementById('realTimeAnalysis').checked,
                    history: document.getElementById('emotionHistory').checked,
                    trends: document.getElementById('emotionTrends').checked,
                    
                    // New emotion settings
                    prediction: document.getElementById('emotionPrediction').checked,
                    correlation: document.getElementById('emotionCorrelation').checked,
                    context: document.getElementById('emotionContext').checked,
                    learning: document.getElementById('emotionLearning').checked
                },
                tags: {
                    autoTagging: document.getElementById('autoTagging').checked,
                    suggestions: document.getElementById('tagSuggestions').checked,
                    analytics: document.getElementById('tagAnalytics').checked
                }
            };

            localStorage.setItem('featureConfig', JSON.stringify(config));
            showNotification('Feature configuration updated', 'success');
        }

        // Load saved configurations
        document.addEventListener('DOMContentLoaded', () => {
            // Load security settings
            const securitySettings = JSON.parse(localStorage.getItem('securitySettings') || '{}');
            Object.entries(securitySettings).forEach(([key, value]) => {
                const element = document.getElementById(key);
                if (element) element.checked = value;
            });

            // Load feature configuration
            const featureConfig = JSON.parse(localStorage.getItem('featureConfig') || '{}');
            Object.entries(featureConfig).forEach(([category, settings]) => {
                Object.entries(settings).forEach(([key, value]) => {
                    const element = document.getElementById(key);
                    if (element) element.checked = value;
                });
            });

            // Initialize analytics
            updateAnalytics();
        });

        // Llama & Ollama Configuration Functions
        function testOllamaConnection() {
            const host = document.getElementById('ollamaHost').value;
            showNotification('Testing Ollama connection...', 'info');
            
            // Simulate connection test
            setTimeout(() => {
                const success = Math.random() > 0.5;
                showNotification(
                    success ? 'Successfully connected to Ollama' : 'Failed to connect to Ollama',
                    success ? 'success' : 'error'
                );
            }, 1500);
        }

        function saveOllamaSettings() {
            const settings = {
                host: document.getElementById('ollamaHost').value,
                timeout: document.getElementById('ollamaTimeout').value,
                maxTokens: document.getElementById('ollamaMaxTokens').value
            };

            localStorage.setItem('ollamaSettings', JSON.stringify(settings));
            showNotification('Ollama settings saved', 'success');
        }

        function pullNewModel() {
            const modelName = prompt('Enter model name (e.g., llama2, mistral, codellama):');
            if (modelName) {
                showNotification(`Pulling model: ${modelName}...`, 'info');
                // Implement model pulling logic
            }
        }

        function refreshModelList() {
            showNotification('Refreshing model list...', 'info');
            // Implement model list refresh logic
            updateModelList();
        }

        function updateModelList() {
            const modelList = document.getElementById('ollamaModelList');
            const models = [
                { name: 'llama2', size: '7B', status: 'active' },
                { name: 'mistral', size: '7B', status: 'active' },
                { name: 'codellama', size: '13B', status: 'active' }
            ];

            modelList.innerHTML = models.map(model => `
                <div class="model-item">
                    <div class="model-info">
                        <span class="model-name">${model.name}</span>
                        <span class="model-size">${model.size}</span>
                    </div>
                    <div class="model-actions">
                        <button class="admin-button secondary" onclick="deleteModel('${model.name}')">Delete</button>
                    </div>
                </div>
            `).join('');

            // Update model select dropdown
            const modelSelect = document.getElementById('selectedModel');
            modelSelect.innerHTML = models.map(model => 
                `<option value="${model.name}">${model.name} (${model.size})</option>`
            ).join('');
        }

        function loadModelSettings() {
            const modelName = document.getElementById('selectedModel').value;
            // Load saved settings for the selected model
            const settings = JSON.parse(localStorage.getItem(`modelSettings_${modelName}`) || '{}');
            
            // Update UI with loaded settings
            document.getElementById('temperature').value = settings.temperature || 0.7;
            document.getElementById('topP').value = settings.topP || 0.9;
            document.getElementById('topK').value = settings.topK || 40;
            document.getElementById('repeatPenalty').value = settings.repeatPenalty || 1.1;
            document.getElementById('contextWindow').value = settings.contextWindow || 4096;
            document.getElementById('systemPrompt').value = settings.systemPrompt || '';
            document.getElementById('stopSequences').value = settings.stopSequences || '';
            document.getElementById('modelParameters').value = settings.customParameters || '';

            // Update display values
            updateSettingValues();
        }

        function updateModelSettings() {
            const modelName = document.getElementById('selectedModel').value;
            const settings = {
                temperature: parseFloat(document.getElementById('temperature').value),
                topP: parseFloat(document.getElementById('topP').value),
                topK: parseInt(document.getElementById('topK').value),
                repeatPenalty: parseFloat(document.getElementById('repeatPenalty').value),
                contextWindow: parseInt(document.getElementById('contextWindow').value),
                systemPrompt: document.getElementById('systemPrompt').value,
                stopSequences: document.getElementById('stopSequences').value,
                customParameters: document.getElementById('modelParameters').value,
                
                // New advanced settings
                quantization: document.getElementById('modelQuantization').value,
                numGpuLayers: parseInt(document.getElementById('numGpuLayers').value),
                numThreads: parseInt(document.getElementById('numThreads').value),
                batchSize: parseInt(document.getElementById('batchSize').value),
                ropeScaling: document.getElementById('ropeScaling').value
            };

            localStorage.setItem(`modelSettings_${modelName}`, JSON.stringify(settings));
            updateSettingValues();
            showNotification('Model settings updated', 'success');
        }

        function updateSettingValues() {
            document.getElementById('temperatureValue').textContent = document.getElementById('temperature').value;
            document.getElementById('topPValue').textContent = document.getElementById('topP').value;
            document.getElementById('repeatPenaltyValue').textContent = document.getElementById('repeatPenalty').value;
        }

        function deleteModel(modelName) {
            if (confirm(`Are you sure you want to delete ${modelName}?`)) {
                showNotification(`Deleting model: ${modelName}...`, 'info');
                // Implement model deletion logic
            }
        }

        // Initialize Llama & Ollama configuration
        document.addEventListener('DOMContentLoaded', () => {
            // Load saved Ollama settings
            const settings = JSON.parse(localStorage.getItem('ollamaSettings') || '{}');
            document.getElementById('ollamaHost').value = settings.host || 'http://localhost:11434';
            document.getElementById('ollamaTimeout').value = settings.timeout || 30000;
            document.getElementById('ollamaMaxTokens').value = settings.maxTokens || 4096;

            // Initialize model list
            updateModelList();

            // Set up performance monitoring
            setInterval(updatePerformanceMetrics, 5000);
        });

        function updatePerformanceMetrics() {
            // Simulate performance metrics
            document.getElementById('responseTimeMetric').textContent = `${Math.floor(Math.random() * 100)}ms`;
            document.getElementById('tokenRateMetric').textContent = `${Math.floor(Math.random() * 50)} t/s`;
            document.getElementById('memoryUsageMetric').textContent = `${Math.floor(Math.random() * 1000)} MB`;
            document.getElementById('gpuUtilizationMetric').textContent = `${Math.floor(Math.random() * 100)}%`;

            // Update performance chart
            updatePerformanceChart();
        }

        function updatePerformanceChart() {
            const chart = document.getElementById('performanceChart');
            const data = Array.from({length: 24}, () => Math.random() * 100);
            
            chart.innerHTML = `
                <div style="height: 100%; display: flex; align-items: flex-end;">
                    ${data.map(value => `
                        <div style="width: 4%; height: ${value}%; background: var(--primary-color); margin: 0 1%;"></div>
                    `).join('')}
                </div>
            `;
        }

        // Enhanced Model Configuration Functions
        function updateModelSettings() {
            const modelName = document.getElementById('selectedModel').value;
            const settings = {
                // Existing settings
                temperature: parseFloat(document.getElementById('temperature').value),
                topP: parseFloat(document.getElementById('topP').value),
                topK: parseInt(document.getElementById('topK').value),
                repeatPenalty: parseFloat(document.getElementById('repeatPenalty').value),
                contextWindow: parseInt(document.getElementById('contextWindow').value),
                systemPrompt: document.getElementById('systemPrompt').value,
                stopSequences: document.getElementById('stopSequences').value,
                customParameters: document.getElementById('modelParameters').value,
                
                // New advanced settings
                quantization: document.getElementById('modelQuantization').value,
                numGpuLayers: parseInt(document.getElementById('numGpuLayers').value),
                numThreads: parseInt(document.getElementById('numThreads').value),
                batchSize: parseInt(document.getElementById('batchSize').value),
                ropeScaling: document.getElementById('ropeScaling').value
            };

            localStorage.setItem(`modelSettings_${modelName}`, JSON.stringify(settings));
            showNotification('Model settings updated', 'success');
        }

        // Fine-tuning Functions
        function handleTrainingData() {
            const files = document.getElementById('trainingData').files;
            if (files.length > 0) {
                showNotification(`Selected ${files.length} training files`, 'info');
            }
        }

        function updateFineTuningSettings() {
            const settings = {
                learningRate: parseFloat(document.getElementById('learningRate').value),
                epochs: parseInt(document.getElementById('epochs').value),
                batchSize: parseInt(document.getElementById('batchSize').value),
                loraRank: parseInt(document.getElementById('loraRank').value)
            };

            localStorage.setItem('fineTuningSettings', JSON.stringify(settings));
        }

        function startFineTuning() {
            showNotification('Starting fine-tuning process...', 'info');
            // Implement fine-tuning logic
        }

        function stopFineTuning() {
            showNotification('Stopping fine-tuning process...', 'info');
            // Implement stop logic
        }

        // Model Comparison Functions
        function updateComparison() {
            const model1 = document.getElementById('model1').value;
            const model2 = document.getElementById('model2').value;
            
            // Update comparison charts
            updateComparisonChart('responseTimeComparison', model1, model2);
            updateComparisonChart('tokenRateComparison', model1, model2);
            updateComparisonChart('memoryUsageComparison', model1, model2);
            updateComparisonChart('qualityScoreComparison', model1, model2);
        }

        function updateComparisonChart(chartId, model1, model2) {
            const chart = document.getElementById(chartId);
            const data1 = Array.from({length: 10}, () => Math.random() * 100);
            const data2 = Array.from({length: 10}, () => Math.random() * 100);
            
            chart.innerHTML = `
                <div style="height: 100%; display: flex; align-items: flex-end;">
                    ${data1.map((value, i) => `
                        <div style="width: 4%; height: ${value}%; background: var(--primary-color); margin: 0 1%;"></div>
                        <div style="width: 4%; height: ${data2[i]}%; background: var(--secondary-color); margin: 0 1%;"></div>
                    `).join('')}
                </div>
            `;
        }

        // Enhanced Performance Monitoring Functions
        function updateMonitoringInterval() {
            const interval = parseInt(document.getElementById('monitoringInterval').value);
            clearInterval(performanceMonitoringInterval);
            performanceMonitoringInterval = setInterval(updatePerformanceMetrics, interval);
        }

        function exportPerformanceData() {
            showNotification('Exporting performance data...', 'info');
            // Implement export logic
        }

        function updatePerformanceMetrics() {
            // Update all performance charts
            updatePerformanceChart('cpuUsageChart');
            updatePerformanceChart('gpuUsageChart');
            updatePerformanceChart('memoryUsageChart');
            updatePerformanceChart('tokenProcessingChart');

            // Update metrics table
            updateMetricsTable();
        }

        function updateMetricsTable() {
            const metrics = [
                { name: 'Response Time', current: '50ms', average: '45ms', peak: '100ms', trend: '↘️' },
                { name: 'Token Rate', current: '25 t/s', average: '30 t/s', peak: '50 t/s', trend: '↗️' },
                { name: 'Memory Usage', current: '2.5GB', average: '2.3GB', peak: '3.0GB', trend: '→' },
                { name: 'GPU Usage', current: '75%', average: '70%', peak: '90%', trend: '↗️' }
            ];

            const tbody = document.getElementById('performanceMetricsBody');
            tbody.innerHTML = metrics.map(metric => `
                <tr>
                    <td>${metric.name}</td>
                    <td>${metric.current}</td>
                    <td>${metric.average}</td>
                    <td>${metric.peak}</td>
                    <td>${metric.trend}</td>
                </tr>
            `).join('');
        }

        // Visualization Functions
        function updateVisualization() {
            const chartType = document.getElementById('chartType').value;
            const timeRange = document.getElementById('timeRange').value;
            const selectedMetrics = Array.from(document.querySelectorAll('.metrics-selection input:checked'))
                .map(input => input.value);

            // Update all charts with new settings
            updatePerformanceChart('cpuUsageChart', chartType);
            updatePerformanceChart('gpuUsageChart', chartType);
            updatePerformanceChart('memoryUsageChart', chartType);
            updatePerformanceChart('tokenProcessingChart', chartType);
        }

        // Initialize new features
        document.addEventListener('DOMContentLoaded', () => {
            // Existing initialization code...

            // Initialize performance monitoring
            updateMonitoringInterval();
            updateMetricsTable();

            // Initialize model comparison
            updateComparison();

            // Initialize visualization
            updateVisualization();
        });

        // ... existing code ...

        // Enhanced Learning Functions
        function updateLearningSettings() {
            const settings = {
                mode: document.getElementById('learningMode').value,
                strategy: document.getElementById('learningStrategy').value,
                parameters: {
                    learningRate: parseFloat(document.getElementById('learningRate').value),
                    momentum: parseFloat(document.getElementById('momentum').value),
                    decayRate: parseFloat(document.getElementById('decayRate').value),
                    batchSize: parseInt(document.getElementById('batchSize').value)
                },
                optimization: document.getElementById('learningOptimization').value
            };

            localStorage.setItem('learningSettings', JSON.stringify(settings));
            updateLearningVisualization();
            showNotification('Learning settings updated', 'success');
        }

        function updateLearningVisualization() {
            // Update learning progress charts
            updateProgressChart('learningProgressChart', generateLearningData());
            updateProgressChart('accuracyChart', generateAccuracyData());
            updateProgressChart('lossChart', generateLossData());
            updateProgressChart('learningRateChart', generateLearningRateData());

            // Update statistics
            document.getElementById('totalSamples').textContent = Math.floor(Math.random() * 10000);
            document.getElementById('currentAccuracy').textContent = `${(Math.random() * 100).toFixed(1)}%`;
            document.getElementById('currentLoss').textContent = (Math.random() * 2).toFixed(4);
            document.getElementById('currentLearningRate').textContent = (Math.random() * 0.1).toFixed(4);
        }

        function generateLearningData() {
            return Array.from({length: 50}, (_, i) => ({
                x: i,
                y: Math.min(100, (i / 50) * 100 + Math.random() * 10)
            }));
        }

        function generateAccuracyData() {
            return Array.from({length: 50}, (_, i) => ({
                x: i,
                y: Math.min(100, 50 + (i / 50) * 40 + Math.random() * 10)
            }));
        }

        function generateLossData() {
            return Array.from({length: 50}, (_, i) => ({
                x: i,
                y: Math.max(0, 2 - (i / 50) * 1.5 + Math.random() * 0.2)
            }));
        }

        function generateLearningRateData() {
            return Array.from({length: 50}, (_, i) => ({
                x: i,
                y: 0.1 * Math.pow(0.95, i) + Math.random() * 0.01
            }));
        }

        function updateProgressChart(chartId, data) {
            const chart = document.getElementById(chartId);
            const maxY = Math.max(...data.map(d => d.y));
            
            chart.innerHTML = `
                <div style="height: 100%; display: flex; align-items: flex-end;">
                    ${data.map(point => `
                        <div style="width: 2%; height: ${(point.y / maxY) * 100}%; 
                             background: var(--primary-color); margin: 0 1%;"></div>
                    `).join('')}
                </div>
            `;
        }

        // Enhanced Moderation Functions
        function updateModeration() {
            const settings = {
                warn: document.getElementById('actionWarn').checked,
                block: document.getElementById('actionBlock').checked,
                mute: document.getElementById('actionMute').checked,
                report: document.getElementById('actionReport').checked,
                ban: document.getElementById('actionBan').checked,
                restrict: document.getElementById('actionRestrict').checked,
                monitor: document.getElementById('actionMonitor').checked,
                educate: document.getElementById('actionEducate').checked
            };

            localStorage.setItem('moderationSettings', JSON.stringify(settings));
            showNotification('Moderation settings updated', 'success');
        }

        // Advanced Testing Functions
        function runContentTest() {
            const content = document.getElementById('testContent').value;
            const options = {
                moderation: document.getElementById('testModeration').checked,
                restrictions: document.getElementById('testRestrictions').checked,
                context: document.getElementById('testContext').checked,
                sentiment: document.getElementById('testSentiment').checked
            };

            showNotification('Running content test...', 'info');
            // Implement content testing logic
            displayTestResults({
                content,
                results: {
                    moderation: Math.random() > 0.5 ? 'Pass' : 'Fail',
                    restrictions: Math.random() > 0.5 ? 'Pass' : 'Fail',
                    context: Math.random() > 0.5 ? 'Pass' : 'Fail',
                    sentiment: Math.random() > 0.5 ? 'Pass' : 'Fail'
                }
            });
        }

        function handleBulkTestFile() {
            const file = document.getElementById('bulkTestFile').files[0];
            if (file) {
                showNotification(`Processing bulk test file: ${file.name}`, 'info');
                // Implement bulk file processing
            }
        }

        function runBulkTest() {
            showNotification('Running bulk test...', 'info');
            // Implement bulk testing logic
        }

        function runScenarioTest() {
            const scenario = document.getElementById('testScenario').value;
            showNotification(`Running scenario test: ${scenario}`, 'info');
            // Implement scenario testing logic
        }

        function displayTestResults(results) {
            const resultsDiv = document.getElementById('testResults');
            resultsDiv.innerHTML = `
                <h5>Test Results</h5>
                <div class="results-grid">
                    ${Object.entries(results.results).map(([key, value]) => `
                        <div class="result-item ${value.toLowerCase()}">
                            <span class="result-label">${key}</span>
                            <span class="result-value">${value}</span>
                        </div>
                    `).join('')}
                </div>
            `;
        }

        // Initialize learning visualization
        document.addEventListener('DOMContentLoaded', () => {
            // Load saved settings
            const learningSettings = JSON.parse(localStorage.getItem('learningSettings') || '{}');
            const moderationSettings = JSON.parse(localStorage.getItem('moderationSettings') || '{}');

            // Apply saved settings
            if (learningSettings.mode) {
                document.getElementById('learningMode').value = learningSettings.mode;
                document.getElementById('learningStrategy').value = learningSettings.strategy;
                if (learningSettings.parameters) {
                    document.getElementById('learningRate').value = learningSettings.parameters.learningRate;
                    document.getElementById('momentum').value = learningSettings.parameters.momentum;
                    document.getElementById('decayRate').value = learningSettings.parameters.decayRate;
                    document.getElementById('batchSize').value = learningSettings.parameters.batchSize;
                }
                document.getElementById('learningOptimization').value = learningSettings.optimization;
            }

            if (moderationSettings.warn || moderationSettings.block || moderationSettings.mute || moderationSettings.report || moderationSettings.ban || moderationSettings.restrict || moderationSettings.monitor || moderationSettings.educate) {
                Object.entries(moderationSettings).forEach(([key, value]) => {
                    const element = document.getElementById(`action${key.charAt(0).toUpperCase() + key.slice(1)}`);
                    if (element) element.checked = value;
                });
            }

            // Initialize learning visualization
            updateLearningVisualization();
            setInterval(updateLearningVisualization, 5000);
        });

        // Enhanced Learning Functions
        function updateAdvancedLearningSettings() {
            const settings = {
                mode: document.getElementById('advancedLearningMode').value,
                strategy: document.getElementById('learningStrategy').value,
                parameters: {
                    learningRate: parseFloat(document.getElementById('advancedLearningRate').value),
                    momentum: parseFloat(document.getElementById('momentum').value),
                    decayRate: parseFloat(document.getElementById('decayRate').value),
                    batchSize: parseInt(document.getElementById('learningBatchSize').value)
                },
                optimization: document.getElementById('learningOptimization').value
            };

            localStorage.setItem('advancedLearningSettings', JSON.stringify(settings));
            updateLearningVisualization();
            showNotification('Advanced learning settings updated', 'success');
        }

        function updateLearningVisualization() {
            // Update learning progress charts
            updateProgressChart('learningProgressChart', generateLearningData());
            updateProgressChart('accuracyChart', generateAccuracyData());
            updateProgressChart('lossChart', generateLossData());
            updateProgressChart('learningRateChart', generateLearningRateData());

            // Update statistics
            document.getElementById('totalSamples').textContent = Math.floor(Math.random() * 10000);
            document.getElementById('currentAccuracy').textContent = `${(Math.random() * 100).toFixed(1)}%`;
            document.getElementById('currentLoss').textContent = (Math.random() * 2).toFixed(4);
            document.getElementById('currentLearningRate').textContent = (Math.random() * 0.1).toFixed(4);
        }

        function generateLearningData() {
            return Array.from({length: 50}, (_, i) => ({
                x: i,
                y: Math.min(100, (i / 50) * 100 + Math.random() * 10)
            }));
        }

        function generateAccuracyData() {
            return Array.from({length: 50}, (_, i) => ({
                x: i,
                y: Math.min(100, 50 + (i / 50) * 40 + Math.random() * 10)
            }));
        }

        function generateLossData() {
            return Array.from({length: 50}, (_, i) => ({
                x: i,
                y: Math.max(0, 2 - (i / 50) * 1.5 + Math.random() * 0.2)
            }));
        }

        function generateLearningRateData() {
            return Array.from({length: 50}, (_, i) => ({
                x: i,
                y: 0.1 * Math.pow(0.95, i) + Math.random() * 0.01
            }));
        }

        function updateProgressChart(chartId, data) {
            const chart = document.getElementById(chartId);
            const maxY = Math.max(...data.map(d => d.y));
            
            chart.innerHTML = `
                <div style="height: 100%; display: flex; align-items: flex-end;">
                    ${data.map(point => `
                        <div style="width: 2%; height: ${(point.y / maxY) * 100}%; 
                             background: var(--primary-color); margin: 0 1%;"></div>
                    `).join('')}
                </div>
            `;
        }

        // Enhanced Moderation Functions
        function updateEnhancedModeration() {
            const settings = {
                engine: document.getElementById('moderationEngine').value,
                categories: {
                    content: {
                        politics: document.getElementById('modPolitics').checked,
                        religion: document.getElementById('modReligion').checked,
                        adult: document.getElementById('modAdult').checked,
                        violence: document.getElementById('modViolence').checked,
                        hate: document.getElementById('modHate').checked,
                        personal: document.getElementById('modPersonal').checked,
                        discrimination: document.getElementById('modDiscrimination').checked,
                        harassment: document.getElementById('modHarassment').checked,
                        misinformation: document.getElementById('modMisinformation').checked,
                        spam: document.getElementById('modSpam').checked
                    },
                    context: {
                        context: document.getElementById('modContext').checked,
                        sentiment: document.getElementById('modSentiment').checked,
                        tone: document.getElementById('modTone').checked,
                        intent: document.getElementById('modIntent').checked,
                        cultural: document.getElementById('modCultural').checked
                    }
                },
                actions: {
                    immediate: {
                        warn: document.getElementById('actionWarn').checked,
                        block: document.getElementById('actionBlock').checked,
                        mute: document.getElementById('actionMute').checked,
                        report: document.getElementById('actionReport').checked
                    },
                    longTerm: {
                        ban: document.getElementById('actionBan').checked,
                        restrict: document.getElementById('actionRestrict').checked,
                        monitor: document.getElementById('actionMonitor').checked,
                        educate: document.getElementById('actionEducate').checked
                    }
                }
            };

            localStorage.setItem('enhancedModerationSettings', JSON.stringify(settings));
            showNotification('Enhanced moderation settings updated', 'success');
        }

        // Advanced Testing Functions
        function runContentTest() {
            const content = document.getElementById('testContent').value;
            const options = {
                moderation: document.getElementById('testModeration').checked,
                restrictions: document.getElementById('testRestrictions').checked,
                context: document.getElementById('testContext').checked,
                sentiment: document.getElementById('testSentiment').checked
            };

            showNotification('Running content test...', 'info');
            // Implement content testing logic
            displayTestResults({
                content,
                results: {
                    moderation: Math.random() > 0.5 ? 'Pass' : 'Fail',
                    restrictions: Math.random() > 0.5 ? 'Pass' : 'Fail',
                    context: Math.random() > 0.5 ? 'Pass' : 'Fail',
                    sentiment: Math.random() > 0.5 ? 'Pass' : 'Fail'
                }
            });
        }

        function handleBulkTestFile() {
            const file = document.getElementById('bulkTestFile').files[0];
            if (file) {
                showNotification(`Processing bulk test file: ${file.name}`, 'info');
                // Implement bulk file processing
            }
        }

        function runBulkTest() {
            showNotification('Running bulk test...', 'info');
            // Implement bulk testing logic
        }

        function runScenarioTest() {
            const scenario = document.getElementById('testScenario').value;
            showNotification(`Running scenario test: ${scenario}`, 'info');
            // Implement scenario testing logic
        }

        function displayTestResults(results) {
            const resultsDiv = document.getElementById('testResults');
            resultsDiv.innerHTML = `
                <h5>Test Results</h5>
                <div class="results-grid">
                    ${Object.entries(results.results).map(([key, value]) => `
                        <div class="result-item ${value.toLowerCase()}">
                            <span class="result-label">${key}</span>
                            <span class="result-value">${value}</span>
                        </div>
                    `).join('')}
                </div>
            `;
        }

        // Initialize enhanced features
        document.addEventListener('DOMContentLoaded', () => {
            // Load saved settings
            const advancedLearningSettings = JSON.parse(localStorage.getItem('advancedLearningSettings') || '{}');
            const enhancedModerationSettings = JSON.parse(localStorage.getItem('enhancedModerationSettings') || '{}');

            // Apply saved settings
            if (advancedLearningSettings.mode) {
                document.getElementById('advancedLearningMode').value = advancedLearningSettings.mode;
                document.getElementById('learningStrategy').value = advancedLearningSettings.strategy;
                if (advancedLearningSettings.parameters) {
                    document.getElementById('advancedLearningRate').value = advancedLearningSettings.parameters.learningRate;
                    document.getElementById('momentum').value = advancedLearningSettings.parameters.momentum;
                    document.getElementById('decayRate').value = advancedLearningSettings.parameters.decayRate;
                    document.getElementById('learningBatchSize').value = advancedLearningSettings.parameters.batchSize;
                }
                document.getElementById('learningOptimization').value = advancedLearningSettings.optimization;
            }

            if (enhancedModerationSettings.engine) {
                document.getElementById('moderationEngine').value = enhancedModerationSettings.engine;
                if (enhancedModerationSettings.categories) {
                    Object.entries(enhancedModerationSettings.categories.content).forEach(([key, value]) => {
                        const element = document.getElementById(`mod${key.charAt(0).toUpperCase() + key.slice(1)}`);
                        if (element) element.checked = value;
                    });
                    Object.entries(enhancedModerationSettings.categories.context).forEach(([key, value]) => {
                        const element = document.getElementById(`mod${key.charAt(0).toUpperCase() + key.slice(1)}`);
                        if (element) element.checked = value;
                    });
                }
                if (enhancedModerationSettings.actions) {
                    Object.entries(enhancedModerationSettings.actions.immediate).forEach(([key, value]) => {
                        const element = document.getElementById(`action${key.charAt(0).toUpperCase() + key.slice(1)}`);
                        if (element) element.checked = value;
                    });
                    Object.entries(enhancedModerationSettings.actions.longTerm).forEach(([key, value]) => {
                        const element = document.getElementById(`action${key.charAt(0).toUpperCase() + key.slice(1)}`);
                        if (element) element.checked = value;
                    });
                }
            }

            // Initialize learning visualization
            updateLearningVisualization();
            setInterval(updateLearningVisualization, 5000);
        });

        function showHelpSection(sectionId) {
            // Hide all sections
            document.querySelectorAll('.help-section').forEach(section => {
                section.classList.remove('active');
            });
            
            // Show selected section
            document.getElementById(sectionId).classList.add('active');
            
            // Update navigation
            document.querySelectorAll('.help-nav-item').forEach(item => {
                item.classList.remove('active');
            });
            event.target.classList.add('active');
        }
    </script>
</body>
</html> 